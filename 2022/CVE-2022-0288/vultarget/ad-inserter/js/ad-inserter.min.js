var javascript_version="2.7.9",ignore_key=!0,start=1,end=16,active_tab=1,active_tab_0=0,tabs_to_configure=[],debug=!1,debug_title=!1,save_enabled=!0,current_tab=0,next_tab=0,syntax_highlighting=!1,settings_page="",dateFormat="yy-mm-dd",timeFormat="H:i:s",list_search_reload=!1,website_list_search_reload=!1,AI_DISABLED=0,AI_BEFORE_POST=1,AI_AFTER_POST=2,AI_BEFORE_CONTENT=3,AI_AFTER_CONTENT=4,AI_BEFORE_PARAGRAPH=5,AI_AFTER_PARAGRAPH=6,AI_BEFORE_EXCERPT=7,AI_AFTER_EXCERPT=8,AI_BETWEEN_POSTS=9,AI_BEFORE_COMMENTS=
10,AI_BETWEEN_COMMENTS=11,AI_AFTER_COMMENTS=12,AI_FOOTER=13,AI_ABOVE_HEADER=14,AI_BEFORE_HTML_ELEMENT=15,AI_AFTER_HTML_ELEMENT=16,AI_INSIDE_HTML_ELEMENT=17,AI_BEFORE_IMAGE=18,AI_AFTER_IMAGE=19,AI_ALIGNMENT_DEFAULT=0,AI_ALIGNMENT_LEFT=1,AI_ALIGNMENT_RIGHT=2,AI_ALIGNMENT_CENTER=3,AI_ALIGNMENT_FLOAT_LEFT=4,AI_ALIGNMENT_FLOAT_RIGHT=5,AI_ALIGNMENT_NO_WRAPPING=6,AI_ALIGNMENT_CUSTOM_CSS=7,AI_ALIGNMENT_STICKY_LEFT=8,AI_ALIGNMENT_STICKY_RIGHT=9,AI_ALIGNMENT_STICKY_TOP=10,AI_ALIGNMENT_STICKY_BOTTOM=11,AI_ALIGNMENT_STICKY=
12,AI_ADB_ACTION_NONE=0,AI_ADB_ACTION_MESSAGE=1,AI_ADB_ACTION_REDIRECTION=2,AI_ADB_BLOCK_ACTION_DO_NOTHING=0,AI_ADB_BLOCK_ACTION_REPLACE=1,AI_ADB_BLOCK_ACTION_SHOW=2,AI_ADB_BLOCK_ACTION_HIDE=3,AI_CODE_UNKNOWN=100,AI_CODE_BANNER=0,AI_CODE_ADSENSE=1,AI_CODE_AMAZON=2,AI_ADSENSE_STANDARD=0,AI_ADSENSE_LINK=1,AI_ADSENSE_IN_ARTICLE=2,AI_ADSENSE_IN_FEED=3,AI_ADSENSE_MATCHED_CONTENT=4,AI_ADSENSE_SIZE_FIXED=0,AI_ADSENSE_SIZE_RESPONSIVE=1,AI_ADSENSE_SIZE_FIXED_BY_VIEWPORT=2,AI_HTML_INSERTION_CLIENT_SIDE=0,AI_HTML_INSERTION_SEREVR_SIDE=
2,AI_STICK_TO_THE_LEFT=0,AI_STICK_TO_THE_CONTENT_LEFT=1,AI_STICK_HORIZONTAL_CENTER=2,AI_STICK_TO_THE_CONTENT_RIGHT=3,AI_STICK_TO_THE_RIGHT=4,AI_STICK_TO_THE_TOP=0,AI_STICK_VERTICAL_CENTER=1,AI_SCROLL_WITH_THE_CONTENT=2,AI_STICK_TO_THE_BOTTOM=3,AI_ANIMATION_NONE=0,AI_BACKGROUND_REPEAT_DEFAULT=0,AI_BACKGROUND_REPEAT_NO=1,AI_BACKGROUND_REPEAT_YES=2,AI_BACKGROUND_REPEAT_HORIZONTALY=3,AI_BACKGROUND_REPEAT_VERTICALLY=4,AI_BACKGROUND_REPEAT_SPACE=5,AI_BACKGROUND_REPEAT_ROUND=6,AI_BACKGROUND_SIZE_DEFAULT=
0,AI_BACKGROUND_SIZE_COVER=1,AI_BACKGROUND_SIZE_CONTAIN=2,AI_BACKGROUND_SIZE_FILL=3,before_update_selection_from_list=null;
(function(a){function h(v){return a.data(v,"tooltip")}function k(v){h(this).delay?x=setTimeout(m,h(this).delay):m();N=!!h(this).track;a(document.body).bind("mousemove",p);p(v)}function l(){if(!a.tooltip.blocked&&this!=z&&(this.tooltipText||h(this).bodyHandler)){z=this;y=this.tooltipText;y=y.replace(/\[\[(.+?)\]\]/g,'<span class="tooltip-code">$1</span>');y=y.replace(/\[BR\]/g,"<br />");y=y.replace(/\[HR\]/g,"<hr />");y=y.replace(/(\[ADINSERTER.+\])/g,'<span class="tooltip-code">$1</span>');y=y.replace(/(%N)/g,
'<span class="tooltip-code">$1</span>');y=y.replace(/(\[\*\])/g,'<span class="tooltip-icon"><span class="dashicons dashicons-admin-generic" style="width: 11px; height: 11px; font-size: 12px; line-height: unset;"></span></span>');y=y.replace(/(http[^ ]+)/g,'<span class="tooltip-code">$1</span>');y=y.replace(/(pub-[0-9]+)/g,'<span class="tooltip-code">$1</span>');if(h(this).bodyHandler){u.title.hide();var v=h(this).bodyHandler.call(this);v.nodeType||v.jquery?u.body.empty().append(v):u.body.html(v);
u.body.show()}else if(h(this).showBody){v=y.split(h(this).showBody);2==v.length?u.title.html(v.shift()).show():u.title.hide();u.body.empty();for(var A=0,D;D=v[A];A++)0<A&&u.body.append("<br/>"),u.body.append(D);u.body.hideWhenEmpty()}else u.title.html(y).show(),u.body.hide();h(this).showURL&&a(this).url()?u.url.html(a(this).url().replace("http://","")).show():u.url.hide();u.parent.addClass(h(this).extraClass);h(this).fixPNG&&u.parent.fixPNG();k.apply(this,arguments)}}function m(){x=null;h(z).fade?
u.parent.is(":animated")?u.parent.stop().show().fadeTo(h(z).fade,z.tOpacity):u.parent.is(":visible")?u.parent.fadeTo(h(z).fade,z.tOpacity):u.parent.fadeIn(h(z).fade):u.parent.show();p()}function p(v){if(!(a.tooltip.blocked||v&&"OPTION"==v.target.tagName))if(!N&&u.parent.is(":visible")&&a(document.body).unbind("mousemove",p),null==z)a(document.body).unbind("mousemove",p);else{u.parent.removeClass("viewport-right").removeClass("viewport-bottom");var A=u.parent[0].offsetLeft,D=u.parent[0].offsetTop;
v&&(A=v.pageX+h(z).left,D=v.pageY+h(z).top,v="auto",h(z).positionLeft&&(v=a(window).width()-A,A="auto"),u.parent.css({left:A,right:v,top:D}));v=a(window).scrollLeft();var U=a(window).scrollTop(),V=a(window).width(),W=a(window).height(),K=u.parent[0];v+V<K.offsetLeft+K.offsetWidth&&(A-=K.offsetWidth+20+h(z).left,u.parent.css({left:A+"px"}).addClass("viewport-right"));U+W<K.offsetTop+K.offsetHeight&&(D-=K.offsetHeight+20+h(z).top,u.parent.css({top:D+"px"}).addClass("viewport-bottom"))}}function F(v){function A(){u.parent.removeClass(D.extraClass).hide().css("opacity",
"")}if(!a.tooltip.blocked){x&&clearTimeout(x);z=null;var D=h(this);D.fade?u.parent.is(":animated")?u.parent.stop().fadeTo(D.fade,0,A):u.parent.stop().fadeOut(D.fade,A):A();h(this).fixPNG&&u.parent.unfixPNG()}}var u={},z,y,x,N=!1;a.tooltip={blocked:!1,defaults:{delay:200,fade:!1,showURL:!0,extraClass:"",top:15,left:15,id:"ai-tooltip"},block:function(){a.tooltip.blocked=!a.tooltip.blocked}};a.fn.extend({tooltip:function(v){v=a.extend({},a.tooltip.defaults,v);u.parent||(u.parent=a('<div id="'+v.id+'"><h3></h3><div class="body"></div><div class="url"></div></div>').appendTo(document.body).hide(),
a.fn.bgiframe&&u.parent.bgiframe(),u.title=a("h3",u.parent),u.body=a("div.body",u.parent),u.url=a("div.url",u.parent));return this.each(function(){a.data(this,"tooltip",v);this.tOpacity=u.parent.css("opacity");this.tooltipText=this.title;a(this).removeAttr("title");this.alt=""}).mouseover(l).mouseout(F).click(F)},fixPNG:function(){return this},unfixPNG:function(){return this},hideWhenEmpty:function(){return this.each(function(){a(this)[a(this).html()?"show":"hide"]()})},url:function(){return this.attr("href")||
this.attr("src")}})})(jQuery);function b64e(a){return btoa(encodeURIComponent(a).replace(/%([0-9A-F]{2})/g,function(h,k){return String.fromCharCode("0x"+k)}))}function b64d(a){return decodeURIComponent(atob(a).split("").map(function(h){return"%"+("00"+h.charCodeAt(0).toString(16)).slice(-2)}).join(""))}
function md5cycle(a,h){var k=a[0],l=a[1],m=a[2],p=a[3];k=ff(k,l,m,p,h[0],7,-680876936);p=ff(p,k,l,m,h[1],12,-389564586);m=ff(m,p,k,l,h[2],17,606105819);l=ff(l,m,p,k,h[3],22,-1044525330);k=ff(k,l,m,p,h[4],7,-176418897);p=ff(p,k,l,m,h[5],12,1200080426);m=ff(m,p,k,l,h[6],17,-1473231341);l=ff(l,m,p,k,h[7],22,-45705983);k=ff(k,l,m,p,h[8],7,1770035416);p=ff(p,k,l,m,h[9],12,-1958414417);m=ff(m,p,k,l,h[10],17,-42063);l=ff(l,m,p,k,h[11],22,-1990404162);k=ff(k,l,m,p,h[12],7,1804603682);p=ff(p,k,l,m,h[13],12,
-40341101);m=ff(m,p,k,l,h[14],17,-1502002290);l=ff(l,m,p,k,h[15],22,1236535329);k=gg(k,l,m,p,h[1],5,-165796510);p=gg(p,k,l,m,h[6],9,-1069501632);m=gg(m,p,k,l,h[11],14,643717713);l=gg(l,m,p,k,h[0],20,-373897302);k=gg(k,l,m,p,h[5],5,-701558691);p=gg(p,k,l,m,h[10],9,38016083);m=gg(m,p,k,l,h[15],14,-660478335);l=gg(l,m,p,k,h[4],20,-405537848);k=gg(k,l,m,p,h[9],5,568446438);p=gg(p,k,l,m,h[14],9,-1019803690);m=gg(m,p,k,l,h[3],14,-187363961);l=gg(l,m,p,k,h[8],20,1163531501);k=gg(k,l,m,p,h[13],5,-1444681467);
p=gg(p,k,l,m,h[2],9,-51403784);m=gg(m,p,k,l,h[7],14,1735328473);l=gg(l,m,p,k,h[12],20,-1926607734);k=hh(k,l,m,p,h[5],4,-378558);p=hh(p,k,l,m,h[8],11,-2022574463);m=hh(m,p,k,l,h[11],16,1839030562);l=hh(l,m,p,k,h[14],23,-35309556);k=hh(k,l,m,p,h[1],4,-1530992060);p=hh(p,k,l,m,h[4],11,1272893353);m=hh(m,p,k,l,h[7],16,-155497632);l=hh(l,m,p,k,h[10],23,-1094730640);k=hh(k,l,m,p,h[13],4,681279174);p=hh(p,k,l,m,h[0],11,-358537222);m=hh(m,p,k,l,h[3],16,-722521979);l=hh(l,m,p,k,h[6],23,76029189);k=hh(k,l,
m,p,h[9],4,-640364487);p=hh(p,k,l,m,h[12],11,-421815835);m=hh(m,p,k,l,h[15],16,530742520);l=hh(l,m,p,k,h[2],23,-995338651);k=ii(k,l,m,p,h[0],6,-198630844);p=ii(p,k,l,m,h[7],10,1126891415);m=ii(m,p,k,l,h[14],15,-1416354905);l=ii(l,m,p,k,h[5],21,-57434055);k=ii(k,l,m,p,h[12],6,1700485571);p=ii(p,k,l,m,h[3],10,-1894986606);m=ii(m,p,k,l,h[10],15,-1051523);l=ii(l,m,p,k,h[1],21,-2054922799);k=ii(k,l,m,p,h[8],6,1873313359);p=ii(p,k,l,m,h[15],10,-30611744);m=ii(m,p,k,l,h[6],15,-1560198380);l=ii(l,m,p,k,h[13],
21,1309151649);k=ii(k,l,m,p,h[4],6,-145523070);p=ii(p,k,l,m,h[11],10,-1120210379);m=ii(m,p,k,l,h[2],15,718787259);l=ii(l,m,p,k,h[9],21,-343485551);a[0]=add32(k,a[0]);a[1]=add32(l,a[1]);a[2]=add32(m,a[2]);a[3]=add32(p,a[3])}function cmn(a,h,k,l,m,p){h=add32(add32(h,a),add32(l,p));return add32(h<<m|h>>>32-m,k)}function ff(a,h,k,l,m,p,F){return cmn(h&k|~h&l,a,h,m,p,F)}function gg(a,h,k,l,m,p,F){return cmn(h&l|k&~l,a,h,m,p,F)}function hh(a,h,k,l,m,p,F){return cmn(h^k^l,a,h,m,p,F)}
function ii(a,h,k,l,m,p,F){return cmn(k^(h|~l),a,h,m,p,F)}function md51(a){txt="";var h=a.length,k=[1732584193,-271733879,-1732584194,271733878],l;for(l=64;l<=a.length;l+=64)md5cycle(k,md5blk(a.substring(l-64,l)));a=a.substring(l-64);var m=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(l=0;l<a.length;l++)m[l>>2]|=a.charCodeAt(l)<<(l%4<<3);m[l>>2]|=128<<(l%4<<3);if(55<l)for(md5cycle(k,m),l=0;16>l;l++)m[l]=0;m[14]=8*h;md5cycle(k,m);return k}
function md5blk(a){var h=[],k;for(k=0;64>k;k+=4)h[k>>2]=a.charCodeAt(k)+(a.charCodeAt(k+1)<<8)+(a.charCodeAt(k+2)<<16)+(a.charCodeAt(k+3)<<24);return h}var hex_chr="0123456789abcdef".split("");function rhex(a){for(var h="",k=0;4>k;k++)h+=hex_chr[a>>8*k+4&15]+hex_chr[a>>8*k&15];return h}function hex(a){for(var h=0;h<a.length;h++)a[h]=rhex(a[h]);return a.join("")}function md5(a){return hex(md51(a))}function add32(a,h){return a+h&4294967295}
if("5d41402abc4b2a76b9719d911017c592"!=md5("hello"))var add32$0=function(a,h){var k=(a&65535)+(h&65535);return(a>>16)+(h>>16)+(k>>16)<<16|k&65535};String.prototype.tabIndex=function(){return this.replace(/^\D+/g,"")};String.prototype.replaceAll=function(a,h){return this.split(a).join(h)};
var ai_nonce=b64d(jQuery("#ai-form").attr("ai-value")),ai_settings=b64d(jQuery("#ai-form").attr("ai-settings")),ai_read_only=jQuery("#ai-form").hasClass("ai-read-only"),shSettings={tab_size:"4",use_soft_tabs:"1",word_wrap:"1",highlight_curr_line:"0",key_bindings:"default",full_line_selection:"1",show_line_numbers:"0"};
function encode_code(a){if(!save_enabled)return!1;var h=jQuery("#block-"+a),k=h.attr("name");if("undefined"!==typeof k&&!1!==k){var l=jQuery("#editor-"+a);if(0!=l.length&&"undefined"!==typeof l&&!1!==l){l=ace.edit("editor-"+a).getSession();var m=!0;"undefined"!=typeof ace&&(m=jQuery("#simple-editor-"+a).is(":checked"));m||h.val(l.getValue())}l=h.attr("default");m=h.val();"undefined"!=typeof h.attr("name")&&"undefined"!=typeof l&&m==l&&h.removeAttr("name");l=h.attr("id")+"-copy";jQuery("#"+l).remove();
m=h.attr("org-name");"undefined"!==typeof m&&!1!==m?h.attr("name",m):h.attr("org-name",k);k=h.clone().attr("id",l).hide();h.removeAttr("name");k.val(":AI:"+b64e(h.val()));h.after(k)}jQuery("#ai-active-tab").attr("value","["+active_tab+","+active_tab_0+"]");var p=[];jQuery("#tab-"+a+" [name]").each(function(){p.push(jQuery(this).attr("name"))});jQuery("#block-parameters-"+a).attr("name","block-parameters-"+a).attr("value",b64e(JSON.stringify(p)))}
function SyntaxHighlight(a,h,k){k.tab_size=2;this.textarea=a=jQuery(a);this.settings=k||{};0===a.length?this.valid=!1:(this.valid=!0,h=jQuery("<div>",{position:"absolute","class":a.attr("class"),id:"editor-"+h}).insertBefore(a),a.css("display","none"),this.editor=h=ace.edit(h[0]),this.form=a.closest("form"),this.session=k=h.getSession(),h.$blockScrolling=Infinity,k.setValue(a.val()),k.setMode("ace/mode/ai-html"),this.applySettings())}
SyntaxHighlight.prototype.applySettings=function(){var a=this.editor,h=this.session,k=this.settings;a.renderer.setShowGutter(1==k.show_line_numbers);a.setHighlightActiveLine(1==k.highlight_curr_line);a.setSelectionStyle(1==k.full_line_selection?"line":"text");a.setTheme("ace/theme/"+k.theme);h.setUseWrapMode(1==k.word_wrap);h.setTabSize(k.tab_size);h.setUseSoftTabs(1==k.use_soft_tabs)};
function is_sticky(a){a=a.replace(/\s+/g,"");return-1!=a.indexOf("position:fixed")&&-1!=a.indexOf("z-index:")?!0:!1}function is_background(a){a=a.replace(/\s+/g,"");return-1!=a.indexOf("top:0px;left:0px;width:100%;height:100%;")?!0:!1}
function change_block_alignment(a){jQuery("select#block-alignment-"+a).change();jQuery("select#horizontal-position-"+a).change();jQuery("select#vertical-position-"+a).change();jQuery("input#background-"+a).change();jQuery("input#bkg-color-"+a).colorpicker("setValue",jQuery("input#bkg-color-"+a).val());jQuery("select#bkg-repeat-"+a).change();jQuery("select#bkg-size-"+a).change()}function change_banner_image(a){jQuery("input#banner-image-url-"+a).trigger("input")}
function ai_css_value_px(a,h){var k=!1;styles=a.split(";");styles.forEach(function(l,m){l=l.trim();0==l.indexOf(h)&&(style_parts=l.split(":"),2==style_parts.length&&(style_property=style_parts[0].trim(),style_value=style_parts[1].trim(),style_property==h&&style_value.endsWith("px")&&(k=!0)))});return k}
function ai_change_css(a,h,k){var l=!1;styles=a.split(";");styles.forEach(function(m,p){org_style=m;m=m.trim();if(0==m.indexOf(h)&&(style_parts=m.split(":"),2==style_parts.length&&(style_property=style_parts[0].trim(),style_value=style_parts[1].trim(),style_property==h&&style_value.endsWith("px")))){var F=org_style.split(":");styles[p]=F[0]+": "+k+"px";l=!0}});a=styles.join(";");return l?a:(a=a.trim(),0!=a.length&&";"==a.slice(-1)&&(a=a.substring(0,a.length-1)),a+"; "+h+": "+k+";")}
function update_sticky_margins(a,h,k){""!==k&&(ai_css_value_px(a,"top")?a=ai_change_css(a,"top",k):ai_css_value_px(a,"bottom")&&(a=ai_change_css(a,"bottom",k)));""!==h&&(ai_css_value_px(a,"left")?a=ai_change_css(a,"left",h):ai_css_value_px(a,"right")?a=ai_change_css(a,"right",h):ai_css_value_px(a,"margin-left")?a=ai_change_css(a,"margin-left",h):ai_css_value_px(a,"margin-right")&&(a=ai_change_css(a,"margin-right",h)));return a}
(function(a){a.widget("toggle.checkboxButton",{_create:function(){this._on(this.element,{change:function(h){this.element.next("label").find(".checkbox-icon").toggleClass("on")}})}})})(jQuery);serialize_object=function(a){var h=[],k;for(k in a)a.hasOwnProperty(k)&&h.push(encodeURIComponent(k)+"="+encodeURIComponent(a[k]));return h.join("&")};Number.isInteger=Number.isInteger||function(a){return"number"===typeof a&&isFinite(a)&&Math.floor(a)===a};
function get_editor_text(a){var h=!0;if("undefined"!=typeof ace){var k=ace.edit("editor-"+a);h=jQuery("#simple-editor-"+a).is(":checked")}return h?jQuery("#block-"+a).val():k.getSession().getValue()}function set_editor_text(a,h){var k=!0;if("undefined"!=typeof ace){var l=ace.edit("editor-"+a);k=jQuery("#simple-editor-"+a).is(":checked")}k?jQuery("#block-"+a).val(h):l.getSession().setValue(h)}
function open_popup_window_post(a,h,k,l){var m=document.createElement("form");m.setAttribute("method","post");m.setAttribute("action",a);m.setAttribute("target",k);for(var p in l)l.hasOwnProperty(p)&&(a=document.createElement("input"),a.type="hidden",a.name=p,a.value=encodeURI(l[p]),m.appendChild(a));document.body.appendChild(m);window.open("admin-ajax.php",k,h);m.submit();document.body.removeChild(m)}
function open_window_post(a,h,k){var l=document.createElement("form");l.setAttribute("method","post");l.setAttribute("action",a);l.setAttribute("target",h);for(var m in k)k.hasOwnProperty(m)&&(a=document.createElement("input"),a.type="hidden",a.name=m,a.value=encodeURI(k[m]),l.appendChild(a));document.body.appendChild(l);l.submit();document.body.removeChild(l)}
function check_managing_slave(){jQuery(".ai-managing.ai-managing-slave").length&&jQuery.get(ajaxurl+"?action=ai_ajax_backend&managed=&ai_check="+ai_nonce,function(a){""!=a?setTimeout(function(){check_managing_slave()},3E4):jQuery(".ai-managing.ai-managing-slave").hide()})}
jQuery(document).ready(function(a){function h(b){a(".system-status").length&&(a("#tab-"+b+" input:checkbox").each(function(){"undefined"!=typeof a(this).attr("style")&&a(this).attr("style").includes("animation-name")&&a(this).removeAttr("name")}),a("#tab-"+b+" input:text").each(function(){"undefined"!=typeof a(this).attr("style")&&a(this).attr("style").includes("animation-name")&&a(this).removeAttr("name")}));var d=a(".system-stats .ai-stat-1").length;if(!api_debug||d)a("#tab-"+b+" input:checkbox").each(function(){var f=
a(this).attr("default"),c=a(this).is(":checked"),e=a(this).attr("name");"undefined"!=typeof e&&"undefined"!=typeof f&&(f=!!parseInt(f),c==f&&(a(this).removeAttr("name"),a("#tab-"+b+" [name='"+e+"']").removeAttr("name")))}),a("#tab-"+b+" input:text").each(function(){var f=a(this).attr("default"),c=a(this).val();"undefined"!=typeof a(this).attr("name")&&"undefined"!=typeof f&&c==f&&a(this).removeAttr("name")}),a("#tab-"+b+" select").each(function(){var f=a(this).attr("default"),c=a(this).val();if("undefined"!=
typeof a(this).attr("name")){var e=a(this).children();"OPTGROUP"==e.prop("tagName")&&(c="",e.each(function(){var g=a(this).val();if(0!=g.length)return c=g,!1}));"undefined"!=typeof f&&c==f&&a(this).removeAttr("name")}}),a("#tab-"+b+" input:radio:checked").each(function(){var f=a(this).attr("default"),c=a(this).is(":checked"),e=a(this).attr("name");"undefined"!=typeof e&&"undefined"!=typeof f&&(f=!!parseInt(f),c==f&&a("#tab-"+b+" [name='"+e+"']").removeAttr("name"))});0==b&&(d=a("#tab-"+b+" [name=license_key]"),
"undefined"!=typeof d&&0!=d.length&&0!=d.val().length&&(31>d.val().length||33<d.val().length)&&a("#tab-0 [name=license_key]").removeAttr("name"))}function k(b){var d=ace.edit("editor-"+b);a("input#process-php-"+b).is(":checked")?d.getSession().setMode("ace/mode/ai-php"):d.getSession().setMode("ace/mode/ai-html")}function l(){a("span.icon-auto-refresh").each(function(){a(this).removeClass("on")})}function m(b){a("input#auto-refresh-"+b).next().find(".checkbox-icon").hasClass("on")&&(a("input#load-custom-range-"+
b).click(),setTimeout(function(){m(b)},6E4))}function p(b){return b.includes(":")?(b=b.split(":"),1E3*(3600*parseInt(b[0])+60*parseInt(b[1])+parseInt(b[2]))):null}function F(b){try{var d=a.datepicker.parseDate(dateFormat,b.val())}catch(f){d=null}return d}function u(b,d){try{var f=Date.parse(b.val()+" "+d.val());isNaN(f)&&(f=null)}catch(c){f=null}return f}function z(b){var d=parseInt(a("#ai-form").attr("gmt")),f=a("#scheduling-date-on-"+b),c=a("#scheduling-date-off-"+b),e=a("#scheduling-time-on-"+
b),g=a("#scheduling-time-off-"+b),n=a("select#scheduling-"+b).val(),r=f.val().trim(),q=c.val().trim();b=!1;""==r&&""==q?(f=p(e.val().trim()),e=p(g.val().trim()),b=!0):(f=u(f,e)+d,e=u(c,g)+d);c.attr("title","");c.css("border-color","#ddd");g.attr("title","");g.css("border-color","#ddd");if(null==f&&null!=e)c.attr("title",""),g.attr("title","");else if(null==e&&null!=f)c.attr("title",""),g.attr("title","");else if(e>f){if("2"==n)if(n=(new Date).getTime()+d,b&&(r=new Date(n),d=(new Date(r.getFullYear(),
r.getMonth(),r.getDate())).getTime()+d,n-=d,0>n&&(n+=864E5)),e<=n)c.attr("title",ai_admin.insertion_expired),c.css("border-color","#d00"),g.attr("title",ai_admin.insertion_expired),g.css("border-color","#d00");else{if(b)d=(e-f)/1E3,b=Math.floor(d/3600),d-=3600*b,n=Math.floor(d/60),d-=60*n,b=" "+ai_admin.duration+": "+("0"+b).slice(-2)+":"+("0"+n).slice(-2)+":"+("0"+d).slice(-2);else switch(d=Math.floor((e-f)/1E3/3600/24),b=" "+ai_admin.duration+": "+d+" ",d){case 0:b+=ai_admin.days_0;break;case 1:b+=
ai_admin.days_1;break;case 2:b+=ai_admin.days_2;break;case 3:b+=ai_admin.days_3;break;case 4:b+=ai_admin.days_4;break;default:b+=ai_admin.days_5}c.attr("title",b);g.attr("title",b)}}else c.attr("title",ai_admin.invalid_end_date),c.css("border-color","#d00"),g.attr("title",ai_admin.invalid_end_date),g.css("border-color","#d00");c.tooltip({track:!0,delay:700,showURL:!1,showBody:" | ",fade:250});g.tooltip({track:!0,delay:700,showURL:!1,showBody:" | ",fade:250})}function y(b){var d=a("input#chart-start-date-"+
b);b=a("input#chart-end-date-"+b);var f=F(d),c=F(b);d.attr("title","");d.css("border-color","rgb(221, 221, 221)");b.attr("title","");b.css("border-color","rgb(221, 221, 221)");if(null==f)b.attr("title","");else if(null==c)b.attr("title","");else if(c>=f){var e=new Date;316224E5<new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0,0)-f&&(d.attr("title",ai_admin.invalid_start_date),d.css("border-color","#d00"));316224E5<c-f&&(b.attr("title",ai_admin.invalid_date_range),b.css("border-color","#d00"))}else b.attr("title",
ai_admin.invalid_end_date),b.css("border-color","#d00")}function x(b){a("#paragraph-settings-"+b).hide();a("#paragraph-buttons-"+b).hide();a("#image-settings-"+b).hide();var d=a("#filter-settings-"+b).attr("data-filter");d="undefined"!==typeof d&&!1!==d;a("#filter-settings-"+b).removeAttr("data-filter").hide();a("#filter-buttons-"+b).hide();a("#html-element-settings-"+b).hide();a("#inside-element-"+b).hide();var f=a("select#insertion-type-"+b+" option:selected").attr("value");if(f==AI_BEFORE_PARAGRAPH||
f==AI_AFTER_PARAGRAPH)a("#paragraph-buttons-"+b).show(),a("#paragraph-settings-"+b+" input").attr("title",a("#paragraph-settings-"+b+" input").attr("data-title-paragraphs")).tooltip({track:!0,delay:700,showURL:!1,showBody:" | ",fade:250}),a("#paragraph-settings-"+b).show();else{if(f==AI_BEFORE_IMAGE||f==AI_AFTER_IMAGE)a("#paragraph-buttons-"+b).hide(),a("#paragraph-settings-"+b+" input").attr("title",a("#paragraph-settings-"+b+" input").attr("data-title-images")).tooltip({track:!0,delay:700,showURL:!1,
showBody:" | ",fade:250}),a("#paragraph-settings-"+b).show();else if(f==AI_BEFORE_EXCERPT||f==AI_AFTER_EXCERPT||f==AI_BETWEEN_POSTS||f==AI_BETWEEN_COMMENTS){a("#filter-buttons-"+b).show();var c="";f==AI_BEFORE_EXCERPT||f==AI_AFTER_EXCERPT?c=a("#filter-settings-"+b+" input").attr("data-title-excerpts"):f==AI_BETWEEN_POSTS?c=a("#filter-settings-"+b+" input").attr("data-title-posts"):f==AI_BETWEEN_COMMENTS&&(c=a("#filter-settings-"+b+" input").attr("data-title-comments"));a("#filter-settings-"+b+" input").attr("title",
c).tooltip({track:!0,delay:700,showURL:!1,showBody:" | ",fade:250});a("#filter-settings-"+b).attr("data-filter","1").show()}a("#paragraph-counting-"+b).hide();a("#paragraph-clearance-"+b).hide()}c=a("#filter-settings-"+b).attr("data-filter");!d||"undefined"!==typeof c&&!1!==c||(a("#filter-settings-"+b+" input").val(""),a("input#filter-numbers-"+b).val(""),a("select#filter-type-"+b).val(0),a("input#invert-filter-"+b).removeAttr("checked"));if(f==AI_BEFORE_HTML_ELEMENT||f==AI_AFTER_HTML_ELEMENT||f==
AI_INSIDE_HTML_ELEMENT)a("#html-element-settings-"+b).show(),f==AI_INSIDE_HTML_ELEMENT&&a("#inside-element-"+b).css("display","table-cell");a("#css-label-"+b).css("display","table-cell");a("#edit-css-button-"+b).css("display","table-cell");a("#css-none-"+b).hide();a("#custom-css-"+b).hide();a("#css-left-"+b).hide();a("#css-right-"+b).hide();a("#css-center-"+b).hide();a("#css-float-left-"+b).hide();a("#css-float-right-"+b).hide();a("#css-sticky-left-"+b).hide();a("#css-sticky-right-"+b).hide();a("#css-sticky-top-"+
b).hide();a("#css-sticky-bottom-"+b).hide();a("#css-sticky-"+b).hide();a("#css-no-wrapping-"+b).hide();a("#no-wrapping-warning-"+b).hide();a("#sticky-position-"+b).hide();a("#sticky-animation-"+b).hide();a("#sticky-background-"+b).hide();a("#sticky-background-"+b).find(".bkg-parameters").hide();a("#tracking-wrapping-warning-"+b).hide();d=a("select#block-alignment-"+b+" option:selected").attr("value");d==AI_ALIGNMENT_NO_WRAPPING?(a("#css-no-wrapping-"+b).css("display","table-cell"),a("#css-label-"+
b).hide(),a("#edit-css-button-"+b).hide(),a("#client-side-detection-"+b).is(":checked")&&a("#no-wrapping-warning-"+b).show(),a("#tracking-"+b).next().find(".checkbox-icon").hasClass("on")&&a("#tracking-wrapping-warning-"+b).show()):d==AI_ALIGNMENT_DEFAULT?a("#css-none-"+b).css("display","table-cell"):d==AI_ALIGNMENT_CUSTOM_CSS?(a("#icons-css-code-"+b).show(),a("#custom-css-"+b).show(),aa(b),is_sticky(a("#custom-css-"+b).val())&&(a("#sticky-position-"+b).show(),a("#sticky-animation-"+b).show(),a("#sticky-background-"+
b).show(),a("select#animation-"+b).change(),is_background(a("#custom-css-"+b).val())&&a("input#background-"+b).is(":checked")&&a("#sticky-background-"+b).find(".bkg-parameters").show())):d==AI_ALIGNMENT_LEFT?a("#css-left-"+b).css("display","table-cell"):d==AI_ALIGNMENT_RIGHT?a("#css-right-"+b).css("display","table-cell"):d==AI_ALIGNMENT_CENTER?a("#css-center-"+b).css("display","table-cell"):d==AI_ALIGNMENT_FLOAT_LEFT?a("#css-float-left-"+b).css("display","table-cell"):d==AI_ALIGNMENT_FLOAT_RIGHT?
a("#css-float-right-"+b).css("display","table-cell"):d==AI_ALIGNMENT_STICKY_LEFT?a("#css-sticky-left-"+b).css("display","table-cell"):d==AI_ALIGNMENT_STICKY_RIGHT&&a("#css-sticky-right-"+b).css("display","table-cell");d==AI_ALIGNMENT_STICKY_TOP?a("#css-sticky-top-"+b).css("display","table-cell"):d==AI_ALIGNMENT_STICKY_BOTTOM?a("#css-sticky-bottom-"+b).css("display","table-cell"):d==AI_ALIGNMENT_STICKY&&(a("#icons-css-code-"+b).show(),a("#sticky-position-"+b).show(),a("#sticky-animation-"+b).show(),
a("#sticky-background-"+b).show(),a("select#animation-"+b).change(),a("select#horizontal-position-"+b+" option:selected").attr("value")==AI_STICK_HORIZONTAL_CENTER&&a("input#background-"+b).is(":checked")&&a("#sticky-background-"+b).find(".bkg-parameters").show(),a("#css-sticky-"+b).css("display","table-cell"),aa(b));a("#icons-css-code-"+b).css("display");"do not insert"==a("select#avoid-action-"+b+" option:selected").text()?a("#check-up-to-"+b).hide():a("#check-up-to-"+b).show();a("#scheduling-delay-"+
b).hide();a("#scheduling-between-dates-1-"+b).hide();a("#scheduling-between-dates-2-"+b).hide();a("#scheduling-delay-warning-"+b).hide();d=a("select#scheduling-"+b).val();if("1"==d||"3"==d)a("#scheduling-delay-"+b).show();else if("2"==d||"4"==d||"5"==d||"6"==d)a("#scheduling-between-dates-1-"+b).show(),a("#scheduling-between-dates-2-"+b).show(),z(b);a("#adb-block-replacement-"+b).hide();a("select#adb-block-action-"+b).val()==AI_ADB_BLOCK_ACTION_REPLACE&&a("#adb-block-replacement-"+b).show();a("#exceptions-enabled-"+
b).is(":checked")?a("#default-insertion-"+b).show():a("#default-insertion-"+b).hide();syntax_highlighting&&k(b);X(b)}function N(b){var d=parseInt(a("select#adsense-type-"+b+" option:selected").attr("value")),f=parseInt(a("select#adsense-size-"+b+" option:selected").attr("value"));d!=AI_ADSENSE_STANDARD&&d!=AI_ADSENSE_LINK||f!=AI_ADSENSE_SIZE_FIXED_BY_VIEWPORT?(a("#adsense-layout-"+b).show(),a("#adsense-viewports-"+b).hide()):(a("#adsense-layout-"+b).hide(),a("#adsense-viewports-"+b).show());a("#tab-adsense-"+
b+" .adsense-layout").css("visibility","hidden");a("#tab-adsense-"+b+" .adsense-fixed-size").show();a("#tab-adsense-"+b+" .adsense-fixed-size").css("visibility","hidden");a("#tab-adsense-"+b+" .adsense-size").css("visibility","hidden");a("#tab-adsense-"+b+" .adsense-full-width-responsive").hide();switch(d){case AI_ADSENSE_STANDARD:a("#tab-adsense-"+b+" .adsense-size").css("visibility","visible");f==AI_ADSENSE_SIZE_FIXED&&a("#tab-adsense-"+b+" .adsense-fixed-size").css("visibility","visible");f==AI_ADSENSE_SIZE_RESPONSIVE&&
(a("#tab-adsense-"+b+" .adsense-fixed-size").hide(),a("#tab-adsense-"+b+" .adsense-full-width-responsive").show());break;case AI_ADSENSE_LINK:a("#tab-adsense-"+b+" .adsense-size").css("visibility","visible");f==AI_ADSENSE_SIZE_FIXED&&a("#tab-adsense-"+b+" .adsense-fixed-size").css("visibility","visible");f==AI_ADSENSE_SIZE_RESPONSIVE&&(a("#tab-adsense-"+b+" .adsense-fixed-size").hide(),a("#tab-adsense-"+b+" .adsense-full-width-responsive").show());break;case AI_ADSENSE_IN_FEED:a("#tab-adsense-"+b+
" .adsense-layout").css("visibility","visible")}}function v(b){a("#tab-amazon-"+b+" .amazon-amp-data").hide();1==parseInt(a("select#amazon-amp-"+b+" option:selected").attr("value"))&&a("#tab-amazon-"+b+" .amazon-amp-data").show()}function A(b,d){var f=ace.edit("editor-"+b),c=a("#block-"+b),e=a("#editor-"+b);d?(c.val(f.session.getValue()),c.css("display","block"),e.css("display","none")):(f.session.setValue(c.val()),f.renderer.updateFull(),e.css("display","block"),c.css("display","none"))}function D(b){debug&&
console.log("configure_editor:",b);if(syntax_highlighting){var d=new SyntaxHighlight("#block-"+b,b,shSettings);setTimeout(function(){d.editor.setPrintMarginColumn(1E3)},50);a("input#simple-editor-"+b).change(function(){var f=a(this).attr("id").replace("simple-editor-",""),c=a(this).is(":checked");A(f,c)})}}function U(){a("#adb-message").hide();a("#adb-page-redirection").hide();var b=a("select#adb-action option:selected").attr("value");b==AI_ADB_ACTION_MESSAGE?a("#adb-message").show():b==AI_ADB_ACTION_REDIRECTION&&
a("#adb-page-redirection").show()}function V(b){b=a("<section>"+a("div#statistics-elements-"+b).html()+"</section>");a('div[style*="display: none"], div[style*="display:none"]',b).remove();a(".ai-toolbar-button",b).remove();a(".ai-chart-container",b).css("font-size","10px");a(".ai-chart-container.versions",b).css("text-align","center");a(".ai-statistics-legend",b).after(a(".ai-chart-container.legend",b).html());var d={action:"ai_ajax_backend",pdf:"block",ai_check:ai_nonce,code:b64e(a(b).html())};
a("#ai-loading").show();setTimeout(function(){open_window_post(ajaxurl,"_blank",d)},5);setTimeout(function(){a("#ai-loading").hide()},1E3)}function W(b){a("#ai-loading").show();a("span#export-csv-button-"+b).addClass("on");setTimeout(function(){a("input#load-custom-range-"+b).click()},5);setTimeout(function(){a("#ai-loading").hide()},1E3)}function K(b){a("input#load-custom-range-"+b).click(function(){var d=a(this).attr("id");d=d.replace("load-custom-range-","");var f=a(this).next().find(".checkbox-icon");
f.addClass("on");var c=a("input#chart-start-date-"+d).val(),e=a("input#chart-end-date-"+d).val(),g=a("div#statistics-elements-"+d),n=a("div#ai-version-charts-"+d).is(":visible"),r="";a("input#clear-range-"+d).hasClass("delete")&&(r="&delete=1");var q="";a("input#adb-statistics-button-"+d).next().find(".icon-adb").hasClass("on")&&(q="&adb=1");if(a("span#export-csv-button-"+d).hasClass("on")){a("span#export-csv-button-"+d).removeClass("on");c={action:"ai_ajax_backend",statistics:d,"start-date":c,"end-date":e,
delete_range:""==r?"":1,adb:""==q?"":1,csv:1,ai_check:ai_nonce};e=document.createElement("form");e.setAttribute("method","get");e.setAttribute("action",ajaxurl);for(var t in c)c.hasOwnProperty(t)&&(r=document.createElement("input"),r.type="hidden",r.name=t,r.value=encodeURI(c[t]),e.appendChild(r));document.body.appendChild(e);e.submit();document.body.removeChild(e);f.removeClass("on")}else g.load(ajaxurl+"?action=ai_ajax_backend&statistics="+d+"&start-date="+c+"&end-date="+e+r+q+"&ai_check="+ai_nonce,
function(w,B,H){f.removeClass("on");"error"==B?(w="Error downloading data: "+H.status+" "+H.statusText,a("div#load-error-"+d).html(w),debug&&console.log(w)):(a("span#export-pdf-button-"+d).show(),a("span#export-csv-button-"+d).show(),w=a("#ai-main-toolbar-"+d+" .public-report-button"),w.show(),B=g.find("span.ai-statistics-export-data.ai-public-report"),w.attr("report-data",JSON.stringify(B.data("report"))),B.remove(),a("div#load-error-"+d).html(""),debug&&console.log("Custom statistics loaded: "+
d),ba(g),g.find("label.ai-version-charts-button.not-configured").click(function(){var G=a(this).hasClass("no-version-charts-delay");a(this).removeClass("not-configured");var P=a(this).closest(".ai-charts").find("div.ai-version-charts");P.toggle();var Y=P.find(".ai-chart.not-configured.hidden");Y.length&&(Y.each(function(){a(this).removeClass("hidden")}),G?ba(P):setTimeout(function(){ba(P)},10))}),n&&g.find("label.ai-version-charts-button.not-configured").addClass("no-version-charts-delay").click(),
a("input#chart-start-date-"+d).css("color","#32373c"),a("input#chart-end-date-"+d).css("color","#32373c"))})});a("input#auto-refresh-"+b).click(function(){var d=a(this).attr("id");d=d.replace("auto-refresh-","");var f=a(this).next().find(".checkbox-icon");f.toggleClass("on");f.hasClass("on")&&m(d)});a("input#clear-range-"+b).click(function(){var d=a(this).attr("id");d=d.replace("clear-range-","");var f=this,c=a("input#chart-start-date-"+d).val(),e=a("input#chart-end-date-"+d).val(),g="";""==c&&""==
e?g=ai_admin.delete_all_statistics:""!=c&&""!=e&&(g=ai_admin.delete_statistics_between.replace("{start_date}",c).replace("{end_date}",e));""!=g&&a("<div />").html(g).attr("title",ai_admin.warning).dialog({bgiframe:!0,draggable:!1,resizable:!1,modal:!0,height:"auto",width:400,position:{my:"center",at:"center",of:"#ai-settings"},buttons:[{text:ai_admin["delete"],click:function(){a(this).dialog("close");a(f).addClass("delete");a("input#load-custom-range-"+d).click();a(f).removeClass("delete")}},{text:ai_admin.cancel,
click:function(){a(this).dialog("close")}}],open:function(){a(this).parent().find("button:nth-child(2)").focus()}})});a("input#chart-start-date-"+b).datepicker({dateFormat:dateFormat,autoSize:!0});a("input#chart-end-date-"+b).datepicker({dateFormat:dateFormat,autoSize:!0});a("input#chart-start-date-"+b).change(function(){a(this).closest(".custom-range-controls").find(".data-range").removeClass("selected");a(this).closest(".custom-range-controls").attr("range-name","----");l();var d=a(this).attr("id").replace("chart-start-date-",
"");a(this).css("color","red");y(d)});a("input#chart-end-date-"+b).change(function(){a(this).closest(".custom-range-controls").find(".data-range").removeClass("selected");a(this).closest(".custom-range-controls").attr("range-name","----");l();var d=a(this).attr("id").replace("chart-end-date-","");a(this).css("color","red");y(d)});a("div#custom-range-controls-"+b+" span.data-range").click(function(){var d=a(this).closest(".custom-range-controls");d.find(".data-range").removeClass("selected");a(this).addClass("selected");
d.attr("range-name",a(this).data("range-name"));l();block=a(this).closest(".custom-range-controls").attr("id").replace("custom-range-controls-","");a("input#chart-start-date-"+block).attr("value",a(this).data("start-date")).val(a(this).data("start-date"));a("input#chart-end-date-"+block).attr("value",a(this).data("end-date")).val(a(this).data("end-date"));y(block);a("input#load-custom-range-"+block).click()})}function ja(){debug&&console.log("Configure tab: 0");a("#tab-0").addClass("configured");
a("#tab-0 input[type=submit], #tab-0 button.ai-button").button().show();D("h");D("f");a("#block-a").length&&D("a");a("#ai-plugin-settings-tab-container").tabs();a("#ai-plugin-settings-tabs").show();a("#export-switch-0").checkboxButton().click(function(){a("#export-container-0").toggle();a("#export-container-0").is(":visible")&&!a(this).hasClass("loaded")&&a("#export_settings_0").load(ajaxurl+"?action=ai_ajax_backend&export=0&ai_check="+ai_nonce,function(d,f,c){"error"==f?a("#ai-error-container").text(ai_admin.error+
" "+c.status+": "+c.statusText).show():(a("#export_settings_0").attr("name","export_settings_0"),a("#export-switch-0").addClass("loaded"))})});a("input#process-php-h").change(function(){syntax_highlighting&&k("h")});a("input#process-php-f").change(function(){syntax_highlighting&&k("f")});a("input#process-php-a").change(function(){syntax_highlighting&&k("a")});syntax_highlighting&&k("h");syntax_highlighting&&k("f");a("#block-a").length&&syntax_highlighting&&k("a");for(var b=1;b<=ka;b++)L("group-country",
b);a("#enable-header").checkboxButton();a("#enable-header-404").checkboxButton();a("#simple-editor-h").checkboxButton().click(function(){var d=a("#ai-plugin-settings-tab-container .ui-tabs-panel:visible").attr("id");0!=active_tab||"tab-header"!=d||a(this).hasClass("clicked")||(a(this).addClass("clicked"),a("#ai-tab-container .simple-editor-button").click(),a(this).removeClass("clicked"))});a("#simple-editor-h").is(":checked")&&(A("h",!0),a("#simple-editor-h").next("label").find(".checkbox-icon").addClass("on"));
a("#process-php-h").checkboxButton();a("#enable-footer").checkboxButton();a("#enable-footer-404").checkboxButton();a("#simple-editor-f").checkboxButton().click(function(){var d=a("#ai-plugin-settings-tab-container .ui-tabs-panel:visible").attr("id");0!=active_tab||"tab-footer"!=d||a(this).hasClass("clicked")||(a(this).addClass("clicked"),a("#ai-tab-container .simple-editor-button").click(),a(this).removeClass("clicked"))});a("#simple-editor-f").is(":checked")&&(A("f",!0),a("#simple-editor-f").next("label").find(".checkbox-icon").addClass("on"));
a("#process-php-f").checkboxButton();a("#tracking").checkboxButton();K(0);a("input#statistics-button-0").checkboxButton().click(function(){a("div#statistics-container-0").toggle();a("span#export-pdf-button-0").toggle();a("span#export-csv-button-0").toggle();a("div#tab-tracking-settings").toggle();a("div#statistics-container-0").is(":visible")&&!a(this).hasClass("loaded")&&(a("input#load-custom-range-0").click(),a(this).addClass("loaded"))});a("#export-pdf-button-0").click(function(){V(0)});a("#export-csv-button-0").click(function(){W(0)});
a("#enable-adb-detection").checkboxButton();a("#simple-editor-a").checkboxButton().click(function(){var d=a("#ai-plugin-settings-tab-container .ui-tabs-panel:visible").attr("id");0!=active_tab||"tab-adblocking"!=d||a(this).hasClass("clicked")||(a(this).addClass("clicked"),a("#ai-tab-container .simple-editor-button").click(),a(this).removeClass("clicked"))});a("#simple-editor-a").is(":checked")&&(A("a",!0),a("#simple-editor-a").next("label").find(".checkbox-icon").addClass("on"));a("#process-php-a").checkboxButton();
U();a("select#adb-action").change(function(){U()});a("#preview-button-adb").button({}).show().click(function(){a(this).blur();var d=b64e(get_editor_text("a")),f=a("input#process-php-a").is(":checked")?1:0;open_popup_window_post(ajaxurl,"width=820,height=870,top="+(screen.height/2-435)+",left=100,resizable=yes,scrollbars=yes,toolbar=no,location=no,directories=no,status=no,menubar=no","preview",{action:"ai_ajax_backend",preview:"adb",ai_check:ai_nonce,code:d,php:f})});a("#main-content-element-button").click(function(){var d=
a("input#main-content-element").val(),f=a("#ai-settings").data("home-relative-url");open_popup_window_post(f,"width="+(screen.availWidth-15)+",height="+(screen.availHeight-65)+",top="+screen.availTop+",left="+screen.availLeft+",resizable=yes,scrollbars=yes,toolbar=no,location=no,directories=no,status=no,menubar=no","ai-selector",{html_element_selection:"main",selector:d,input:"input#main-content-element"})});a("#custom-selectors-button").click(function(){var d=a("input#custom-selectors").val(),f=
a("#ai-settings").data("home-relative-url");open_popup_window_post(f,"width="+(screen.availWidth-15)+",height="+(screen.availHeight-65)+",top="+screen.availTop+",left="+screen.availLeft+",resizable=yes,scrollbars=yes,toolbar=no,location=no,directories=no,status=no,menubar=no","ai-selector",{html_element_selection:"adb",selector:d,input:"input#custom-selectors"})});a("#disable-header-code").checkboxButton();a("#disable-footer-code").checkboxButton();a("#disable-js-code").checkboxButton();a("#disable-css-code").checkboxButton();
a("#disable-html-code").checkboxButton();a("#disable-php-processing").checkboxButton();a("#disable-blocks").checkboxButton();a("input#disable-header-code").change(function(){a("#ai-page-header").toggleClass("ai-page-code-disabled")});a("input#disable-footer-code").change(function(){a("#ai-page-footer").toggleClass("ai-page-code-disabled")});a("input#disable-js-code").change(function(){a("#ai-page-js").toggleClass("ai-page-code-disabled")});a("input#disable-css-code").change(function(){a("#ai-page-css").toggleClass("ai-page-code-disabled")});
a("input#disable-html-code").change(function(){a("#ai-page-html").toggleClass("ai-page-code-disabled")});a("input#disable-php-processing").change(function(){a("#ai-page-php").toggleClass("ai-page-code-disabled")});a("input#disable-blocks").change(function(){a("#ai-page-block").toggleClass("ai-page-code-disabled")});a("#report-header-image-button").click(function(d){a(this).blur();d.preventDefault();if(!f){var f=wp.media({title:ai_admin.select_header_image,button:{text:ai_admin.use_this_image},multiple:!1});
f.on("select",function(){var c=f.state().get("selection").first().toJSON();a("#report-header-image").val(c.url)})}f.open()});a("#tab-0 .adsense-list").click(function(){a(this).blur();ca()});a("#ai-blocked-ip-addresses").click(function(){ip_address=a("#ai-blocked-ip-addresses").attr("delete");a("#ai-blocked-ip-addresses").removeAttr("delete");null==ip_address&&(ip_address="");a("#ai-blocked-ip-addresses-list").load(ajaxurl+"?action=ai_ajax_backend&cfp-ip-address-list="+ip_address+"&ai_check="+ai_nonce,
function(d,f,c){"error"==f?console.log("Error loading CFP IP addresses: "+c.status+" "+c.statusText):(d=a("#ai-blocked-ip-addresses-list table").data("count-text"),null==d&&(d=""),a("#ai-blocked-ip-addresses").text(d),a(".cfp-ip-address").click(function(){var e=a(this).closest("tr").data("ip-address");setTimeout(function(){a("#ai-blocked-ip-addresses").attr("delete",e).click()},10)}))})})}function da(b){debug&&console.log("Configure tab:",b);a("#tab-"+b).addClass("configured");a("#tab-"+b+" input[type=submit], #tab-"+
b+" button.ai-button").button().show();D(b);a("select#insertion-type-"+b).change(function(){var c=a(this).attr("id").tabIndex();x(c);la(c)});a("select#block-alignment-"+b).change(function(){var c=a(this).attr("id").replace("block-alignment-",""),e=a("select#block-alignment-"+c+" option:selected").attr("value");a("select#insertion-type-"+c+" option:selected").attr("value")==AI_ABOVE_HEADER||e!=AI_ALIGNMENT_STICKY_LEFT&&e!=AI_ALIGNMENT_STICKY_RIGHT&&e!=AI_ALIGNMENT_STICKY_TOP&&e!=AI_ALIGNMENT_STICKY_BOTTOM&&
e!=AI_ALIGNMENT_STICKY||a("select#insertion-type-"+c).val(AI_FOOTER).change();x(c)});a("select#vertical-position-"+b).change(function(){var c=a(this).attr("id").replace("vertical-position-","");M(c)});a("select#horizontal-position-"+b).change(function(){var c=a(this).attr("id").replace("horizontal-position-","");M(c);x(c)});a("input#background-"+b).change(function(){var c=a(this).attr("id").replace("background-","");X(c);M(c);x(c)});a("input#body-background-"+b).change(function(){var c=a(this).attr("id").replace("body-background-",
"");X(c)});0!=a("input#bkg-color-"+b).length&&(a("input#bkg-color-"+b).colorpicker({useAlpha:!1,useHashPrefix:!0,format:"hex",fallbackColor:"#fffffe"}).on("colorpickerChange colorpickerCreate colorpickerUpdate",function(c){c=a(this).attr("id").replace("bkg-color-","");M(c);a("#sticky-background-"+c).find(".banner-preview").css("background",a(this).val())}).on("input",function(){var c=a(this).attr("id").replace("bkg-color-","");M(c);a("#sticky-background-"+c).find(".banner-preview").css("background",
a(this).val())}),a("input#bkg-color-"+b).colorpicker("setValue",a("input#bkg-color-"+b).attr("value")));a("select#bkg-repeat-"+b).change(function(){var c=a(this).attr("id").replace("bkg-repeat-","");M(c);x(c)});a("select#bkg-size-"+b).change(function(){var c=a(this).attr("id").replace("bkg-size-","");M(c);x(c)});a("input#exceptions-enabled-"+b).change(function(){var c=a(this).attr("id").replace("exceptions-enabled-","");x(c)});a("input#process-php-"+b).change(function(){var c=a(this).attr("id").replace("process-php-",
"");x(c)});a("input#show-label-"+b).change(function(){a(this).attr("id").replace("show-label-","")});a("#enable-shortcode-"+b).change(function(){var c=a(this).attr("id").replace("enable-shortcode-","");x(c)});a("#enable-php-call-"+b).change(function(){var c=a(this).attr("id").replace("enable-php-call-","");x(c)});a("select#display-for-devices-"+b).change(function(){var c=a(this).attr("id").replace("display-for-devices-","");x(c)});a("select#scheduling-"+b).change(function(){var c=a(this).attr("id").replace("scheduling-",
"");x(c)});a("select#adb-block-action-"+b).change(function(){var c=a(this).attr("id").replace("adb-block-action-","");x(c)});a("#display-homepage-"+b).change(function(){var c=a(this).attr("id").replace("display-homepage-","");x(c)});a("#display-category-"+b).change(function(){var c=a(this).attr("id").replace("display-category-","");x(c)});a("#display-search-"+b).change(function(){var c=a(this).attr("id").replace("display-search-","");x(c)});a("#display-archive-"+b).change(function(){var c=a(this).attr("id").replace("display-archive-",
"");x(c)});a("#client-side-detection-"+b).change(function(){var c=a(this).attr("id").replace("client-side-detection-","");x(c)});a("#scheduling-date-on-"+b).change(function(){var c=a(this).attr("id").replace("scheduling-date-on-","");z(c)});a("#scheduling-date-off-"+b).change(function(){var c=a(this).attr("id").replace("scheduling-date-off-","");z(c)});a("#scheduling-time-on-"+b).change(function(){var c=a(this).attr("id").replace("scheduling-time-on-","");z(c)});a("#scheduling-time-off-"+b).change(function(){var c=
a(this).attr("id").replace("scheduling-time-off-","");z(c)});a("#scheduling-weekdays-"+b).click(function(){a(this).attr("id").replace("scheduling-weekdays-","");a(this).selectedIndexes();days=[];a.each(a(this).selectedIndexes(),function(c,e){days[c]=parseInt(e)});a("#scheduling-weekdays-value-"+b).attr("value",days.join(","))});a("select#avoid-action-"+b).change(function(){var c=a(this).attr("id").replace("avoid-action-","");x(c)});a("#tab-"+b+" .page-checker-button").click(function(){a("#page-checker-button").click()});
x(b);a("#exceptions-button-"+b).click(function(){var c=a(this).attr("id").replace("exceptions-button-","");a("#block-exceptions-"+c).toggle()});a("#show-css-button-"+b).click(function(){var c=a(this).attr("id").replace("show-css-button-","");a("#icons-css-code-"+c).toggle();a("#icons-css-code-"+c).is(":visible")?(aa(c),x(c)):(a("#sticky-animation-"+c).hide(),a("#sticky-background-"+c).hide())});a("#counting-button-"+b).click(function(){var c=a(this).attr("id").replace("counting-button-","");a("#paragraph-counting-"+
c).toggle()});a("#clearance-button-"+b).click(function(){var c=a(this).attr("id").replace("clearance-button-","");a("#paragraph-clearance-"+c).toggle()});a("#filter-button-"+b).click(function(){var c=a(this).attr("id").tabIndex();a("#misc-settings-"+c).toggle();a("#misc-settings-"+c).is(":visible")&&(a("#ai-misc-container-"+c).tabs({active:1}),a("#ai-misc-filter-"+c).click())});a("#scheduling-date-on-"+b).datepicker({dateFormat:dateFormat,autoSize:!0});a("#scheduling-date-off-"+b).datepicker({dateFormat:dateFormat,
autoSize:!0});0!=a("#scheduling-weekdays-value-"+b).length&&(a("#scheduling-time-on-"+b).timepicker({timeFormat:timeFormat,minTime:"00:00:00",maxTime:"23:00:00",step:60}),a("#scheduling-time-off-"+b).timepicker({timeFormat:timeFormat,minTime:"00:00:00",maxTime:"23:00:00",step:60}),days=[],a.each(a("#scheduling-weekdays-value-"+b).val().split(","),function(c,e){days[c]=parseInt(e)}),a("#scheduling-weekdays-"+b).weekdays({days:[ai_admin.day_mo,ai_admin.day_tu,ai_admin.day_we,ai_admin.day_th,ai_admin.day_fr,
ai_admin.day_sa,ai_admin.day_su],selectedIndexes:days}));a(".css-code-"+b).click(function(){var c=a(this).attr("class").replace("css-code-","");a("#custom-css-"+c).is(":visible")||a("#edit-css-button-"+c).click()});a("#edit-css-button-"+b).button({}).click(function(){var c=a(this).attr("id").replace("edit-css-button-","");a("#css-left-"+c).hide();a("#css-right-"+c).hide();a("#css-center-"+c).hide();a("#css-float-left-"+c).hide();a("#css-float-right-"+c).hide();a("#css-sticky-left-"+c).hide();a("#css-sticky-right-"+
c).hide();a("#css-sticky-top-"+c).hide();a("#css-sticky-bottom-"+c).hide();a("#css-sticky-"+c).hide();var e=a("select#block-alignment-"+c+" option:selected").attr("value");e==AI_ALIGNMENT_DEFAULT?(a("#css-none-"+c).hide(),a("#custom-css-"+c).show().val(a("#css-none-"+c).text()),a("select#block-alignment-"+c).val(AI_ALIGNMENT_CUSTOM_CSS).change()):e==AI_ALIGNMENT_LEFT?(a("#css-left-"+c).hide(),a("#custom-css-"+c).show().val(a("#css-left-"+c).text()),a("select#block-alignment-"+c).val(AI_ALIGNMENT_CUSTOM_CSS).change()):
e==AI_ALIGNMENT_RIGHT?(a("#css-right-"+c).hide(),a("#custom-css-"+c).show().val(a("#css-right-"+c).text()),a("select#block-alignment-"+c).val(AI_ALIGNMENT_CUSTOM_CSS).change()):e==AI_ALIGNMENT_CENTER?(a("#css-center-"+c).hide(),a("#custom-css-"+c).show().val(a("#css-center-"+c).text()),a("select#block-alignment-"+c).val(AI_ALIGNMENT_CUSTOM_CSS).change()):e==AI_ALIGNMENT_FLOAT_LEFT?(a("#css-float-left-"+c).hide(),a("#custom-css-"+c).show().val(a("#css-float-left-"+c).text()),a("select#block-alignment-"+
c).val(AI_ALIGNMENT_CUSTOM_CSS).change()):e==AI_ALIGNMENT_FLOAT_RIGHT?(a("#css-float-right-"+c).hide(),a("#custom-css-"+c).show().val(a("#css-float-right-"+c).text()),a("select#block-alignment-"+c).val(AI_ALIGNMENT_CUSTOM_CSS).change()):e==AI_ALIGNMENT_STICKY_LEFT?(a("#css-sticky-left-"+c).hide(),a("#custom-css-"+c).show().val(a("#css-sticky-left-"+c).text()),a("select#block-alignment-"+c).val(AI_ALIGNMENT_CUSTOM_CSS).change()):e==AI_ALIGNMENT_STICKY_RIGHT&&(a("#css-sticky-right-"+c).hide(),a("#custom-css-"+
c).show().val(a("#css-sticky-right-"+c).text()),a("select#block-alignment-"+c).val(AI_ALIGNMENT_CUSTOM_CSS).change());e==AI_ALIGNMENT_STICKY_TOP?(a("#css-sticky-top-"+c).hide(),a("#custom-css-"+c).show().val(a("#css-sticky-top-"+c).text()),a("select#block-alignment-"+c).val(AI_ALIGNMENT_CUSTOM_CSS).change()):e==AI_ALIGNMENT_STICKY_BOTTOM?(a("#css-sticky-bottom-"+c).hide(),a("#custom-css-"+c).show().val(a("#css-sticky-bottom-"+c).text()),a("select#block-alignment-"+c).val(AI_ALIGNMENT_CUSTOM_CSS).change()):
e==AI_ALIGNMENT_STICKY&&(a("#css-sticky-"+c).hide(),a("#custom-css-"+c).show().val(a("#css-sticky-"+c).text()),a("select#block-alignment-"+c).val(AI_ALIGNMENT_CUSTOM_CSS).change())});a("#name-label-"+b).click(function(){var c=a(this).attr("id").replace("name-label-","");a("div#settings-"+c).is(":visible")&&!a("#name-edit-"+c).is(":visible")&&(a("#name-edit-"+c).css("display","table-cell").val(a("#name-label-"+c).text()).focus(),a("#name-label-"+c).hide())});a("#name-label-container-"+b).click(function(){var c=
a(this).attr("id").replace("name-label-container-","");a("div#settings-"+c).is(":visible")&&!a("#name-edit-"+c).is(":visible")&&(a("#name-edit-"+c).css("display","table-cell").val(a("#name-label-"+c).text()).focus(),a("#name-label-"+c).hide())});a("#name-edit-"+b).on("keyup keypress",function(c){var e=c.keyCode||c.which;ignore_key=!0;if(27==e)e=a(this).attr("id").replace("name-edit-",""),a("#name-label-"+e).show(),a("#name-edit-"+e).hide(),ignore_key=!1;else if(13==e)return e=a(this).attr("id").replace("name-edit-",
""),a("#name-label-"+e).show().text(a("#name-edit-"+e).val()),a("#name-edit-"+e).hide(),ignore_key=!1,c.preventDefault(),!1}).focusout(function(){if(ignore_key){var c=a(this).attr("id").replace("name-edit-","");a("#name-label-"+c).show().text(a("#name-edit-"+c).val());a("#name-edit-"+c).hide()}ignore_key=!0});a("#export-switch-"+b).checkboxButton().click(function(){var c=a(this).attr("id");c=c.replace("export-switch-","");a("#export-container-"+c).toggle();a("#export-container-"+c).is(":visible")&&
!a(this).hasClass("loaded")&&a("#export_settings_"+c).load(ajaxurl+"?action=ai_ajax_backend&export="+c+"&ai_check="+ai_nonce,function(e,g,n){"error"==g?a("#ai-error-container").text(ai_admin.error+" "+n.status+": "+n.statusText).show():(a("#export_settings_"+c).attr("name","export_settings_"+c),a("#export-switch-"+c).addClass("loaded"))})});a("input#statistics-button-"+b).checkboxButton().click(function(){l();var c=a(this).attr("id");c=c.replace("statistics-button-","");a("div#statistics-container-"+
c).toggle();a("div#settings-"+c).toggle();a("#tab-"+c+" .ai-toolbars .ai-settings").toggle();a("#ai-main-toolbar-"+c+" .ai-statistics").toggle();a("div#statistics-container-"+c).is(":visible")?(a("#name-label-container-"+c).css("cursor","default"),a(this).hasClass("loaded")||(a("input#load-custom-range-"+c).click(),a(this).addClass("loaded"))):a("#name-label-container-"+c).css("cursor","pointer")});a("#export-pdf-button-"+b).click(function(){var c=a(this).attr("id").tabIndex();V(c)});a("#export-csv-button-"+
b).click(function(){var c=a(this).attr("id").tabIndex();W(c)});a("input#adb-statistics-button-"+b).checkboxButton().click(function(){var c=a(this).attr("id");c=c.replace("adb-statistics-button-","");setTimeout(function(){a("input#load-custom-range-"+c).click()},2)});K(b);a("#device-detection-button-"+b).button({}).show().click(function(){var c=a(this).attr("id");c=c.replace("device-detection-button-","");a("#device-detection-settings-"+c).toggle()});a("#lists-button-"+b).button({}).show().click(function(){var c=
a(this).attr("id");c=c.replace("lists-button-","");if(a("#list-settings-"+c).is(":visible"))if(a("#list-settings-"+c).hasClass("ai-expaned"))a("#list-settings-"+c).hide(),a("#list-settings-"+c).removeClass("ai-expaned");else{var e=a("#list-settings-"+c+" tr"),g=a("#list-settings-"+c+" tr.list-items");g.length!=e.length?(a("#list-settings-"+c+" tr").show(),a("#list-settings-"+c).addClass("ai-expaned")):(a("#list-settings-"+c).hide(),a("#list-settings-"+c).removeClass("ai-expaned"))}else a("#list-settings-"+
c).show(),a("#list-settings-"+c).removeClass("ai-expaned"),a("#list-settings-"+c+" tr").hide(),g=a("#list-settings-"+c+" tr.list-items"),g.length?g.show():(a("#list-settings-"+c+" tr").show(),a("#list-settings-"+c).addClass("ai-expaned"))});a("#list-settings-"+b+" span.checkbox-list-button").click(function(){a(this).hasClass("dashicons-yes")?(a(this).removeClass("dashicons-yes").addClass("dashicons-no"),a(this).prev().removeAttr("checked")):(a(this).removeClass("dashicons-no").addClass("dashicons-yes"),
a(this).prev().attr("checked","1"))});a("#manual-button-"+b).button({}).show().click(function(){var c=a(this).attr("id");c=c.replace("manual-button-","");a("#manual-settings-"+c).toggle()});a("#misc-button-"+b).button({}).show().click(function(){var c=a(this).attr("id");c=c.replace("misc-button-","");a("#misc-settings-"+c).toggle()});a("#preview-button-"+b).button({}).show().click(function(){var c=a(this).attr("id");c=c.replace("preview-button-","");a(this).blur();var e=!1,g="1"==a(this).attr("iframe")?
1:0;a(this).attr("iframe","");var n=a("select#block-alignment-"+c+" option:selected").attr("value"),r=a("select#horizontal-position-"+c+" option:selected").attr("value"),q=a("select#vertical-position-"+c+" option:selected").attr("value"),t=a("#horizontal-margin-"+c).val(),w=a("#vertical-margin-"+c).val(),B=a("select#animation-"+c+" option:selected").attr("value"),H=a("#custom-css-"+c).val(),G="";n==AI_ALIGNMENT_DEFAULT?G=a("#css-none-"+c).text():n==AI_ALIGNMENT_CUSTOM_CSS?(G=H,e=is_sticky(H)):n==
AI_ALIGNMENT_LEFT?G=a("#css-left-"+c).text():n==AI_ALIGNMENT_RIGHT?G=a("#css-right-"+c).text():n==AI_ALIGNMENT_CENTER?G=a("#css-center-"+c).text():n==AI_ALIGNMENT_FLOAT_LEFT?G=a("#css-float-left-"+c).text():n==AI_ALIGNMENT_FLOAT_RIGHT?G=a("#css-float-right-"+c).text():n==AI_ALIGNMENT_STICKY_LEFT?G=a("#css-sticky-left-"+c).text():n==AI_ALIGNMENT_STICKY_RIGHT&&(G=a("#css-sticky-right-"+c).text());n==AI_ALIGNMENT_STICKY_TOP?G=a("#css-sticky-top-"+c).text():n==AI_ALIGNMENT_STICKY_BOTTOM?G=a("#css-sticky-bottom-"+
c).text():n==AI_ALIGNMENT_STICKY&&(G=update_sticky_margins(a("#css-sticky-"+c).text(),t,w),e=!0);var P=a("#name-label-"+c).text(),Y=get_editor_text(c),Da=a("input#process-php-"+c).is(":checked")?1:0,Ea=a("input#show-label-"+c).is(":checked")?1:0,Fa=a("#close-button-"+c+" option:selected").attr("value"),Ga=a("input#background-"+c).is(":checked")?1:0,Ha=a("input#body-background-"+c).is(":checked")?1:0,Ia=a("#bkg-image-url-"+c).val(),Ja=a("input#bkg-color-"+c).val(),Ka=a("select#bkg-size-"+c+" option:selected").attr("value"),
La=a("select#bkg-repeat-"+c+" option:selected").attr("value");if(e)e=screen.availTop,ma=screen.availLeft,na=screen.availWidth,oa=screen.availHeight;else{e=screen.height/2-410;var ma=100,na=820,oa=820}c={action:"ai_ajax_backend",preview:c,ai_check:ai_nonce,name:b64e(P),code:b64e(Y),alignment:btoa(n),horizontal:btoa(r),vertical:btoa(q),horizontal_margin:btoa(t),vertical_margin:btoa(w),animation:btoa(B),alignment_css:btoa(G),custom_css:btoa(H),php:Da,label:Ea,close:Fa,background:Ga,body_background:Ha,
background_image:btoa(Ia),background_color:btoa(Ja),background_size:btoa(Ka),background_repeat:btoa(La),iframe:g};open_popup_window_post(ajaxurl,"width="+na+",height="+oa+",top="+e+",left="+ma+",resizable=yes,scrollbars=yes,toolbar=no,location=no,directories=no,status=no,menubar=no","preview",c)});a("select#animation-"+b).change(function(){var c=a(this).attr("id").tabIndex(),e=a(this).find("option:selected").attr("value"),g=a(this).closest(".sticky-animation").find(".animation-parameters");e==AI_ANIMATION_NONE||
a("input#background-"+c).is(":checked")?g.hide():g.show()});a("#iframe-preview-button-"+b).button({}).show().click(function(){var c=a(this).attr("id");c=c.replace("iframe-preview-button-","");a("#preview-button-"+c).attr("iframe","1").click()});L("category",b);L("tag",b);L("taxonomy",b);L("id",b);S("url",b);S("url-parameter",b);S("cookie",b);S("referer",b);L("client",b);S("ip-address",b);L("country",b);L("city",b);var d=function(c){a("#ms-country-select-"+c).toggle();before_update_selection_from_list=
null},f=function(c){a("#ms-city-select-"+c).toggle();before_update_selection_from_list=null};a("#country-city-"+b).click(function(){var c=a(this).attr("id").tabIndex();a(this).find("span").toggle();a(this).next().find("span").toggle();var e=a("#country-button-"+c),g=a("#city-button-"+c),n=a("#ms-country-select-"+c);country_selection_container_visible=n.length&&n.is(":visible");c=a("#ms-city-select-"+c);city_selection_container_visible=c.length&&c.is(":visible");country_selection_container_visible&&
(before_update_selection_from_list=d,g.click());city_selection_container_visible&&(before_update_selection_from_list=f,e.click())});a("#tracking-"+b).checkboxButton().click(function(){var c=a(this).attr("id").replace("tracking-",""),e=a("select#block-alignment-"+c+" option:selected").attr("value");a("#tracking-"+c).next().find(".checkbox-icon").hasClass("on")||e!=AI_ALIGNMENT_NO_WRAPPING?a("#tracking-wrapping-warning-"+c).hide():a("#tracking-wrapping-warning-"+c).show()});a("#simple-editor-"+b).checkboxButton().click(function(){a(this).attr("id").replace("simple-editor-",
"")!=active_tab||a(this).hasClass("clicked")||(a(this).addClass("clicked"),a("#ai-tab-container .simple-editor-button").click(),a(this).removeClass("clicked"))});a("#simple-editor-"+b).is(":checked")&&(A(b,!0),a("#simple-editor-"+b).next("label").find(".checkbox-icon").addClass("on"));a("#process-php-"+b).checkboxButton();a("#disable-insertion-"+b).checkboxButton();a("#ai-misc-container-"+b).tabs();a("#ai-misc-tabs-"+b).show();a("#ai-devices-container-"+b).tabs();a("#ai-devices-tabs-"+b).show();a("#tools-button-"+
b).click(function(){a(this).find(".checkbox-icon").hasClass("on")||(a("label.rotation-button").each(function(){a(this).find(".checkbox-icon").hasClass("on")&&a(this).prev().click()}),a("label.code-generator-button").each(function(){a(this).find(".checkbox-icon").hasClass("on")&&a(this).prev().click()}),a("code-generator").hide());a(".ai-tools-toolbar").toggle();a("label.tools-button").find(".checkbox-icon").toggleClass("on")});a("#ai-code-generator-container-"+b).tabs();a("select#adsense-type-"+b).change(function(){var c=
a(this).attr("id").replace("adsense-type-","");N(c)});a("select#adsense-size-"+b).change(function(){var c=a(this).attr("id").replace("adsense-size-","");N(c)});a("select#amazon-amp-"+b).change(function(){var c=a(this).attr("id").replace("amazon-amp-","");console.log("block",c);v(c)});N(b);v(b);a("#code-generator-"+b).click(function(){var c=a(this).attr("id").replace("code-generator-","");a("#ai-code-generator-container-"+c).toggle();a(this).next("label").find(".checkbox-icon").toggleClass("on")});
a("#visual-editor-"+b).click(function(){var c=a(this).attr("id").replace("visual-editor-",""),e=b64e(get_editor_text(c)),g=a("input#process-php-"+c).is(":checked")?1:0;open_popup_window_post(ajaxurl,"width=820,height=870,top="+(screen.height/2-435)+",left=100,resizable=yes,scrollbars=yes,toolbar=no,location=no,directories=no,status=no,menubar=no","edit",{action:"ai_ajax_backend",edit:c,ai_check:ai_nonce,code:e,php:g})});a("#select-image-button-"+b).click(function(c){a(this).blur();var e=a(this).attr("id").replace("select-image-button-",
"");c.preventDefault();if(!g){var g=wp.media({title:ai_admin.select_banner_image,button:{text:ai_admin.use_this_image},multiple:!1});g.on("select",function(){var n=g.state().get("selection").first().toJSON();a("#banner-image-"+e).attr("src",n.url);a("#banner-image-url-"+e).val(n.url).trigger("input")})}g.open()});a("#select-placeholder-button-"+b).click(function(c){a(this).blur();c=a(this).attr("id").replace("select-placeholder-button-","");var e=a("#banner-image-"+c).attr("src");open_popup_window_post(ajaxurl,
"width=820,height=870,top="+(screen.height/2-435)+",left=100,resizable=yes,scrollbars=yes,toolbar=no,location=no,directories=no,status=no,menubar=no","preview",{action:"ai_ajax_backend",placeholder:e,block:c,ai_check:ai_nonce})});a("#banner-image-url-"+b).on("input",function(){var c=a(this).attr("id").replace("banner-image-url-",""),e=a("#banner-image-"+c),g=a(this).val();""==g&&(e.hide(),a("div#tab-banner-"+c+" table.ai-settings-table").css("position","relative"));e.attr("src",g).on("load",function(){e.show();
a("div#tab-banner-"+c+" table.ai-settings-table").css("position","inherit");a(this).closest(".ai-banner").removeClass("ai-banner-top");var n=this.naturalWidth;2<n/this.naturalHeight&&300<n&&a(this).closest(".ai-banner").addClass("ai-banner-top")}).on("error",function(){e.is(":visible")&&(e.hide().attr("src",""),a("div#tab-banner-"+c+" table.ai-settings-table").css("position","relative"))})});a("#banner-url-"+b).on("input",function(){var c=a(this).attr("id").replace("banner-url-","");""==a(this).val().trim()?
a("#banner-link-"+c).removeAttr("href"):a("#banner-link-"+c).attr("href",a(this).val())});a("#import-code-"+b).click(function(){a(this).next("label").find(".checkbox-icon").addClass("on");var c=a(this).attr("id").replace("import-code-","");a.post(ajaxurl,{action:"ai_ajax_backend",ai_check:ai_nonce,"import-code":b64e(get_editor_text(c))}).done(function(e){if(""!=e){a("#ai-error-container").hide();try{var g=JSON.parse(e)}catch(n){console.log("AI IMPORT CODE ERROR:",e),a("#ai-error-container").text(e).show()}if("undefined"!==
typeof g&&"undefined"!==typeof g.type)switch(debug&&console.log("AI IMPORT CODE:",g),e=g.type,a("#ai-code-generator-container-"+c).tabs({active:e==AI_CODE_UNKNOWN?AI_CODE_BANNER:e}),e){case AI_CODE_BANNER:a("#banner-image-url-"+c).val(g.image).trigger("input");a("#image-alt-text-"+c).val(g.alt);a("#lazy-load-image-"+c).prop("checked","lazy"==g.loading);a("#banner-url-"+c).val(g.link).trigger("input");a("#open-new-tab-"+c).prop("checked","_blank"==g.target);break;case AI_CODE_ADSENSE:a("#adsense-comment-"+
c).val(g["adsense-comment"]);a("#adsense-publisher-id-"+c).val(g["adsense-publisher-id"]);a("#adsense-ad-slot-id-"+c).val(g["adsense-ad-slot-id"]);a("#adsense-type-"+c).val(g["adsense-type"]);a("#adsense-size-"+c).val(g["adsense-size"]);e="";""!=g["adsense-width"]&&""!=g["adsense-height"]&&(e=g["adsense-width"]+"x"+g["adsense-height"]);a("#tab-adsense-"+c+" .adsense-ad-size.fixed").parent().find(".scombobox-display").val(e);a("#adsense-amp-"+c).val(g["adsense-amp"]);a("#adsense-amp-block-on-consent-"+
c).prop("checked","#"!=g["adsense-amp-block-on-consent"]);a("#adsense-layout-"+c).val(g["adsense-layout"]);a("#adsense-layout-key-"+c).val(decodeURIComponent(g["adsense-layout-key"]));"false"==decodeURIComponent(g["adsense-full-width-responsive"])?a("#adsense-layout-"+c+" select.adsense-full-width").val("disabled"):a("#adsense-layout-"+c+" select.adsense-full-width").val("enabled");a("#adsense-size-"+c).val()==AI_ADSENSE_SIZE_FIXED_BY_VIEWPORT&&a("#tab-adsense-"+c+" tr.adsense-viewport").each(function(n){var r=
g["adsense-sizes"][n][0];n=g["adsense-sizes"][n][1];var q="";""!=r&&""!=n&&(q=r+"x"+n);a(this).find(".adsense-ad-size").parent().find(".scombobox-display").val(q)});N(c);break;case AI_CODE_AMAZON:a("#amazon-data-"+c).val(g["amazon-data"]),a("#amazon-amp-"+c).val(g["amazon-amp"]),a("#amazon-width-"+c).val(g["amazon-width"]),a("#amazon-height-"+c).val(g["amazon-height"]),a("#amazon-amp-block-on-consent-"+c).prop("checked","#"!=g["amazon-amp-block-on-consent"]),v(c)}}}).fail(function(e,g,n){console.log("AI IMPORT CODE ERROR:",
e.status,e.statusText);a("#ai-error-container").text(ai_admin.error+" "+e.status+": "+e.statusText).show()}).always(function(){a("#import-code-"+c).next("label").find(".checkbox-icon").removeClass("on")})});a("#generate-code-"+b).click(function(){a("#ai-error-container").hide();a(this).next("label").find(".checkbox-icon").addClass("on");var c=a(this).attr("id").replace("generate-code-",""),e=a("#ai-code-generator-container-"+c).tabs("option","active"),g={action:"ai_ajax_backend",ai_check:ai_nonce,
"generate-code":e};switch(e){case AI_CODE_BANNER:g.image=a("#banner-image-url-"+c).val();g.alt=a("#image-alt-text-"+c).val();a("#lazy-load-image-"+c).is(":checked")&&(g.loading="lazy");g.link=a("#banner-url-"+c).val();a("#open-new-tab-"+c).is(":checked")&&(g.target="_blank");break;case AI_CODE_ADSENSE:g.block=c;g["adsense-comment"]=a("#adsense-comment-"+c).val();g["adsense-publisher-id"]=a("#adsense-publisher-id-"+c).val();g["adsense-ad-slot-id"]=a("#adsense-ad-slot-id-"+c).val();g["adsense-type"]=
parseInt(a("select#adsense-type-"+c+" option:selected").attr("value"));g["adsense-size"]=parseInt(a("select#adsense-size-"+c+" option:selected").attr("value"));var n=a("#tab-adsense-"+c+" .adsense-ad-size.fixed").parent().find(".scombobox-display").val().trim().toLowerCase().split("x");g["adsense-width"]="";g["adsense-height"]="";2==n.length&&(g["adsense-width"]=parseInt(n[0]),g["adsense-height"]=parseInt(n[1]));g["adsense-amp"]=parseInt(a("select#adsense-amp-"+c+" option:selected").attr("value"));
g["adsense-amp-block-on-consent"]=a("#adsense-amp-block-on-consent-"+c).is(":checked")?"":"#";g["adsense-layout"]=a("#adsense-layout-"+c).val();g["adsense-layout-key"]=a("#adsense-layout-key-"+c).val();g["adsense-full-width-responsive"]="true";"disabled"==a("#adsense-layout-"+c+" select.adsense-full-width").val()&&(g["adsense-full-width-responsive"]="false");if(g["adsense-size"]==AI_ADSENSE_SIZE_FIXED_BY_VIEWPORT){var r=[];a("#tab-adsense-"+c+" tr.adsense-viewport").each(function(q){q=a(this).find(".adsense-ad-size").parent().find(".scombobox-display").val().trim().toLowerCase().split("x");
var t={width:"",height:""};2==q.length&&(t={width:parseInt(q[0]),height:parseInt(q[1])});r.push(t)});g["adsense-viewports"]=r}break;case AI_CODE_AMAZON:g["amazon-data"]=a("#amazon-data-"+c).val(),g["amazon-amp"]=a("select#amazon-amp-"+c+" option:selected").attr("value"),g["amazon-width"]=a("#amazon-width-"+c).val(),g["amazon-height"]=a("#amazon-height-"+c).val(),g["amazon-amp-block-on-consent"]=a("#amazon-amp-block-on-consent-"+c).is(":checked")?"":"#"}debug&&(console.log("AI GENERATE CODE:",e),console.log(g));
a.post(ajaxurl,g).done(function(q){""!=q&&(q=JSON.parse(q),"undefined"!==typeof q&&set_editor_text(c,q))}).fail(function(q,t,w){console.log("AI GENERATE CODE ERROR:",q.status,q.statusText);a("#ai-error-container").text(ai_admin.error+" "+q.status+": "+q.statusText).show()}).always(function(){a("#generate-code-"+c).next("label").find(".checkbox-icon").removeClass("on")})});a("#clear-block-"+b).click(function(){T(!0,!0,!0,!0)});a("#copy-block-"+b).click(function(){Ma()});a("#paste-name-"+b).click(function(){T(!0,
!1,!1,!1)});a("#paste-code-"+b).click(function(){T(!1,!0,!1,!1)});a("#paste-settings-"+b).click(function(){T(!1,!1,!0,!1)});a("#paste-block-"+b).click(function(){T(!0,!0,!0,!1)});a("#rotation-"+b).click(function(){var c=a(this).attr("id").replace("rotation-",""),e=a("#ai-rotation-container-"+c);a(this).next("label").find(".checkbox-icon").toggleClass("on");e.toggle();var g=e.tabs(),n=g.find("ul");e.is(":visible")?(e.data("code",b64e(get_editor_text(c))),e.data("option",1),ea(c,1),g.tabs("option",
"active",0),a("input[name=ai_save]").css("color","#f00"),setTimeout(function(){Na(c)},5)):(Oa(c),n.find("li").remove(),g.find("div.rounded").remove())});a("#add-option-"+b).click(function(){var c=a(this).attr("id").replace("add-option-","");ea(c,1);a("#ai-rotation-container-"+c).find("ul").find("li").slice(-1).click()});a("#remove-option-"+b).click(function(){var c=a(this).attr("id").replace("remove-option-","");Pa(c,a("#ai-rotation-container-"+c).tabs("option","active"))});a("#rotation-groups-"+
b).click(function(){var c=a(this).attr("id").tabIndex(),e=a(this).next().find("span");e.toggleClass("on");c=a("#ai-rotation-container-"+c);e.hasClass("on")?(c.find("span.group-name-label").show(),c.find("span.option-name-label").hide(),c.find("td.option-parameters").hide()):(c.find("span.group-name-label").hide(),c.find("span.option-name-label").show(),c.find("td.option-parameters").show())});a("#tab-"+b+" .adsense-list").click(function(){a(this).blur();ca()});a("select#html-element-insertion-"+b).change(function(){a("select#html-element-insertion-"+
b+" option:selected").attr("value")==AI_HTML_INSERTION_SEREVR_SIDE?a("#server-side-insertion-"+b).hide():a("#server-side-insertion-"+b).show()});a("#tab-"+b+" .adsense-ad-size").scombobox({showDropDown:!1,invalidAsValue:!0,animation:{duration:50}});a("select#close-button-"+b).change(function(){var c=a(this).attr("id").replace("close-button-","");a("select#close-button-sticky-"+c).val(a("select#close-button-"+c+" option:selected").attr("value"))});a("select#close-button-sticky-"+b).change(function(){var c=
a(this).attr("id").replace("close-button-sticky-","");a("select#close-button-"+c).val(a("select#close-button-sticky-"+c+" option:selected").attr("value"))});a("input#filter-numbers-insertions-"+b).on("keyup",function(){var c=a(this).attr("id").tabIndex();a("input#filter-numbers-"+c).val(a(this).val());a("select#filter-type-"+c).val(0);a("input#invert-filter-"+c).removeAttr("checked")});a("input#filter-numbers-"+b).on("keyup",function(){var c=a(this).attr("id").tabIndex();a("input#filter-numbers-insertions-"+
c).val(a(this).val())});a("#html-elements-button-"+b).click(function(){var c=a(this).attr("id").replace("html-elements-button-",""),e=a("input#html-elements-"+c).val(),g=a("#ai-settings").data("home-relative-url");open_popup_window_post(g,"width="+(screen.availWidth-15)+",height="+(screen.availHeight-65)+",top="+screen.availTop+",left="+screen.availLeft+",resizable=yes,scrollbars=yes,toolbar=no,location=no,directories=no,status=no,menubar=no","ai-selector",{html_element_selection:c,selector:e,input:"input#html-elements-"+
c})});a("#wait-for-button-"+b).click(function(){var c=a(this).attr("id").replace("wait-for-button-",""),e=a("input#wait-for-"+c).val(),g=a("#ai-settings").data("home-relative-url");open_popup_window_post(g,"width="+(screen.availWidth-15)+",height="+(screen.availHeight-65)+",top="+screen.availTop+",left="+screen.availLeft+",resizable=yes,scrollbars=yes,toolbar=no,location=no,directories=no,status=no,menubar=no","ai-selector",{html_element_selection:c,selector:e,input:"input#wait-for-"+c})});a("#select-bkg-image-button-"+
b).click(function(c){a(this).blur();var e=a(this).attr("id").replace("select-bkg-image-button-","");c.preventDefault();if(!g){var g=wp.media({title:ai_admin.select_background_image,button:{text:ai_admin.use_this_image},multiple:!1});g.on("select",function(){var n=g.state().get("selection").first().toJSON();a("#bkg-image-"+e).attr("src",n.url);a("#bkg-image-url-"+e).val(n.url).trigger("input")})}g.open()});a("#bkg-image-url-"+b).on("input",function(){var c=a(this).attr("id").replace("bkg-image-url-",
""),e=a("#bkg-image-"+c),g=a(this).val();""==g&&(e.hide(),a("div#sticky-background-"+c+" table.ai-settings-table").css("position","relative"));M(c);e.attr("src",g).on("load",function(){e.show();a("div#sticky-background-"+c+" table.ai-settings-table").css("position","inherit");a(this).closest(".ai-banner").removeClass("ai-banner-top");var n=this.naturalWidth;2<n/this.naturalHeight&&300<n&&a(this).closest(".ai-banner").addClass("ai-banner-top")}).on("error",function(){e.is(":visible")&&(e.hide().attr("src",
""),a("div#sticky-background-"+c+" table.ai-settings-table").css("position","relative"))})})}function M(b){var d=a("select#horizontal-position-"+b+" option:selected").attr("value"),f=a("select#horizontal-position-"+b+" option:selected"),c=a("select#vertical-position-"+b+" option:selected").attr("value"),e=a("select#vertical-position-"+b+" option:selected"),g=a("input#background-"+b).is(":checked"),n=d==AI_STICK_HORIZONTAL_CENTER&&a("input#body-background-"+b).is(":checked");g?a("#sticky-position-"+
b).addClass("ai-background"):a("#sticky-position-"+b).removeClass("ai-background");var r=e.data("css-bkg");g&&"undefined"!=typeof r?e=n?a("select#vertical-position-"+b).data("css-body-bkg"):r:(r=e.data("css-"+d),e="undefined"!=typeof r?r:e.data("css"));n=f.data("css-bkg");g&&"undefined"!=typeof n?f=n:(n=f.data("css-"+c),f="undefined"!=typeof n?n:f.data("css"));c="";if(d==AI_STICK_HORIZONTAL_CENTER&&g){d=a("input#bkg-color-"+b).val().trim();""!=d&&(c=c+" background-color: "+d+";");d=a("input#bkg-image-url-"+
b).val().trim();""!=d&&(c=c+" background-image: url("+d+");");d=parseInt(a("select#bkg-size-"+b+" option:selected").attr("value"));if(d!=AI_BACKGROUND_SIZE_DEFAULT)switch(d){case AI_BACKGROUND_SIZE_COVER:c+=" background-size: cover;";break;case AI_BACKGROUND_SIZE_CONTAIN:c+=" background-size: contain;";break;case AI_BACKGROUND_SIZE_FILL:c+=" background-size: 100% 100%;"}d=parseInt(a("select#bkg-repeat-"+b+" option:selected").attr("value"));if(d!=AI_BACKGROUND_REPEAT_DEFAULT)switch(d){case AI_BACKGROUND_REPEAT_NO:c+=
" background-repeat: no-repeat;";break;case AI_BACKGROUND_REPEAT_YES:c+=" background-repeat: repeat;";break;case AI_BACKGROUND_REPEAT_HORIZONTALY:c+=" background-repeat: repeat-x;";break;case AI_BACKGROUND_REPEAT_VERTICALLY:c+=" background-repeat: repeat-y;";break;case AI_BACKGROUND_REPEAT_SPACE:c+=" background-repeat: space;";break;case AI_BACKGROUND_REPEAT_ROUND:c+=" background-repeat: round;"}}a("#css-sticky-"+b+" .ai-sticky-css").text(e+f+c);X(b)}function X(b){a("#sticky-scroll-warning-"+b).hide();
var d=a("select#insertion-type-"+b+" option:selected").attr("value"),f=a("select#block-alignment-"+b+" option:selected").attr("value"),c=a("select#vertical-position-"+b+" option:selected").attr("value"),e=a("input#background-"+b).is(":checked")?1:0,g=a("input#body-background-"+b).is(":checked")?1:0;f!=AI_ALIGNMENT_STICKY||c!=AI_SCROLL_WITH_THE_CONTENT||d==AI_ABOVE_HEADER||d==AI_DISABLED||e&&g||a("#sticky-scroll-warning-"+b).show()}function aa(b){var d=a("#icons-css-code-"+b);if(!d.hasClass("configured")){var f=
[];a("select#insertion-type-"+b).imagepicker({hide_select:!1}).find("option").each(function(c){f.push(a(this).data("title"))});a("select#insertion-type-"+b+" + ul").appendTo("#automatic-insertion-"+b).css("padding-top","10px").find("li").each(function(c){a(this).attr("title",f[c]).tooltip({track:!0,delay:700,showURL:!1,showBody:" | ",fade:250})});f=[];a("select#block-alignment-"+b).imagepicker({hide_select:!1}).find("option").each(function(c){f.push(a(this).data("title"))});a("select#block-alignment-"+
b+" + ul").appendTo("#alignment-style-"+b).css("padding-top","10px").find("li").each(function(c){a(this).attr("title",f[c]).tooltip({track:!0,delay:700,showURL:!1,showBody:" | ",fade:250})});f=[];a("select#horizontal-position-"+b).imagepicker({hide_select:!1}).find("option").each(function(c){f.push(a(this).data("title"))});a("select#horizontal-position-"+b+" + ul").appendTo("#horizontal-positions-"+b).css("padding-top","10px").find("li").each(function(c){a(this).attr("title",f[c]).tooltip({track:!0,
delay:700,showURL:!1,showBody:" | ",fade:250})});f=[];a("select#vertical-position-"+b).imagepicker({hide_select:!1}).find("option").each(function(c){f.push(a(this).data("title"))});a("select#vertical-position-"+b+" + ul").appendTo("#vertical-positions-"+b).css("padding-top","10px").find("li").each(function(c){a(this).attr("title",f[c]).tooltip({track:!0,delay:700,showURL:!1,showBody:" | ",fade:250})});d.addClass("configured")}}function Na(b){a("#rotation-"+b).next("label").find(".checkbox-icon").addClass("active");
a.post(ajaxurl,{action:"ai_ajax_backend",ai_check:ai_nonce,"import-rotation-code":b64e(get_editor_text(b))}).done(function(d){if(""!=d){var f=JSON.parse(d);if("undefined"!==typeof f&&"undefined"!==typeof f.options){a("#ai-error-container").hide();var c=f.options.length;debug&&(console.log("AI IMPORT ROTATION CODE:",c),console.log("  OPTIONS:",f.options));d=a("#ai-rotation-container-"+b);d.find("ul").find("li").remove();d.find("div.rounded").remove();var e=c;1>e&&(e=1);17<e&&(e=17);ea(b,e);d.find("ul li").each(function(g){g<
c?a(this).data("code",b64e(f.options[g].code)):a(this).data("code",b64e(""))});d.tabs("option","active",0);set_editor_text(b,f.options[0].code);d.find("input.option-name").each(function(g){g<c&&a(this).val(f.options[g].name)});d.find("input.option-share").each(function(g){g<c&&a(this).val(f.options[g].share)});d.find("input.option-time").each(function(g){g<c&&a(this).val(f.options[g].time)});d.find("input.option-scheduling").each(function(g){g<c&&a(this).val(f.options[g].scheduling)});d=a("#rotation-groups-"+
b).next().find("span");f.options[0].groups?d.removeClass("on"):d.addClass("on");a("#rotation-groups-"+b).click()}}}).fail(function(d,f,c){console.log("AI IMPORT ROTATION CODE ERROR:",d.status,d.statusText);a("#ai-error-container").text(ai_admin.error+" "+d.status+": "+d.statusText).show();d=a("#ai-rotation-container-"+b);set_editor_text(b,b64d(d.data("code")));d.hide();a("#rotation-"+b).next("label").find(".checkbox-icon").removeClass("on");d.find("ul").find("li").remove();d.find("div.rounded").remove()}).always(function(){a("#rotation-"+
b).next("label").find(".checkbox-icon").removeClass("active")})}function Oa(b){a("#rotation-"+b).next("label").find(".checkbox-icon").addClass("active");var d=a("#ai-rotation-container-"+b),f=d.tabs("option","active")+1;a("#option-"+b+"-"+f).data("code",b64e(get_editor_text(b)));var c=[];d.find("div.rounded").each(function(e){e=a("#option-"+b+"-"+(e+1)).data("code");e="undefined"==typeof e?"":b64d(e);var g=a("#rotation-groups-"+b).next().find("span").hasClass("on");e={name:a(this).find("input.option-name").val(),
share:a(this).find("input.option-share").val(),scheduling:a(this).find("input.option-scheduling").val(),time:a(this).find("input.option-time").val(),code:e,groups:g};c.push(e)});debug&&console.log("ROTATION DATA:",c);a.post(ajaxurl,{action:"ai_ajax_backend",ai_check:ai_nonce,"generate-rotation-code":b64e(JSON.stringify(c))}).done(function(e){a("#ai-error-container").hide();""!=e&&(e=JSON.parse(e),"undefined"!==typeof e&&(debug&&console.log("ROTATION CODE:",e),set_editor_text(b,e)))}).fail(function(e,
g,n){console.log("AI GENERATE ROTATION CODE ERROR:",e.status,e.statusText);a("#ai-error-container").text(ai_admin.error+" "+e.status+": "+e.statusText).show();e=a("#ai-rotation-container-"+b);set_editor_text(b,b64d(e.data("code")));e.hide();a("#rotation-"+b).next("label").find(".checkbox-icon").removeClass("on");e.find("ul").find("li").remove();e.find("div.rounded").remove()}).always(function(){a("#rotation-"+b).next("label").find(".checkbox-icon").removeClass("active");a("input[name=ai_save]").css("color",
"#555")})}function ea(b,d){var f=a("#ai-rotation-container-"+b),c=f.find("ul"),e=f.find("ul >li").length,g=a("#rotation-tabs"),n=g.find("li");g=g.find("div.rounded");for(option=e+1;option<=e+d&&!(17<option);option++){var r=n.clone().show();r.find("a").attr("href","#tab-option-"+b+"-"+option).text(String.fromCharCode(64+option));r.attr("id","option-"+b+"-"+option).appendTo(c).data("code",b64e(""));r.click(function(){var q=a(this).closest(".ai-rotate"),t=q.attr("id").replace("ai-rotation-container-",
""),w=q.data("option"),B=a(this).attr("id").replace("option-"+t+"-","");q.data("option",B);debug&&console.log("OPTION CHANGE:",w,"=>",B);a("#option-"+t+"-"+w).data("code",b64e(get_editor_text(t)));set_editor_text(t,b64d(a(this).data("code")))});g.clone().show().attr("id","tab-option-"+b+"-"+option).appendTo(f);f.tabs("refresh")}f.find("[data-title]").each(function(){a(this).attr("title",a(this).data("title"))});f.find("[title]").tooltip({track:!0,delay:700,showURL:!1,showBody:" | ",fade:250});f.tabs("option",
"active",option-2)}function Pa(b,d){var f=a("#ai-rotation-container-"+b);if(1!=f.find("ul >li").length){var c=f.find("ul");c.find("li").slice(d,d+1).remove();f.find("div.rounded").slice(d,d+1).remove();f.find("ul li").each(function(e){e+=1;a(this).attr("id","option-"+b+"-"+e).find("a").attr("href","#tab-option-"+b+"-"+e).text(String.fromCharCode(64+e))});f.find("div.rounded").each(function(e){e+=1;a(this).attr("id","tab-option-"+b+"-"+e)});f.tabs("refresh");f=0==d?0:d-1;active_li=a("#option-"+b+"-"+
(f+1));set_editor_text(b,b64d(active_li.data("code")));c.closest(".ai-rotate").data("option",f+1)}}function L(b,d){var f=a("#"+b+"-select-"+d);if(0!==f.length){var c=function(n,r){"function"==typeof before_update_selection_from_list&&before_update_selection_from_list(d);e.find("span.ui-button-text").addClass("ai-button-updating");setTimeout(function(){Qa(n,r)},5)},e=a("#"+b+"-button-"+d),g=e.data("list");null==g&&(g=b);e.click(function(){if(f.hasClass("multi-select"))c(a("#"+g+"-list-"+d),b),a("#ms-"+
b+"-select-"+d).toggle();else if(0==f.find("option").length){var n=a("#ms-"+b+"-select-"+d).find(".filter-input");n=n.length?n.val():"";var r=f.data("parameters");r="undefined"==typeof r?"":r;a("#ai-loading").show();e.find("span.ui-button-text").addClass("ai-button-active").show();a.get(ajaxurl+"?action=ai_ajax_backend&list-options="+b+"&parameters="+r+"&filter="+n+"&ai_check="+ai_nonce,function(q){if(""!=q){var t="";q=a("option","<div>"+q+"</div>");0!=q.length&&0==a(q[0]).attr("value").length&&(t=
a(q[0]).text(),q=q.splice(1));f.attr("data-message",t);f.html(q);pa(f,b,g,d);a("#ms-"+b+"-select-"+d).find(".filter-message").text(t);c(a("#"+g+"-list-"+d),b)}}).fail(function(q,t,w){a("input.filter-input",selection_container).remove();console.log("Error loading "+b+" options: "+q.status+" "+q.statusText)}).always(function(){a("#ai-loading").hide();e.find("span.ui-button-text").removeClass("ai-button-active")})}else pa(f,b,g,d)});a("#"+g+"-list-"+d).focusout(function(){var n=a("#ms-"+b+"-select-"+
d);n.length&&n.is(":visible")&&c(a(this),b)})}}function qa(b,d,f){var c=b.$element,e=c.val();null!=e&&(""==e[0]&&(e=e.splice(1)),e=e.join(", ").trim(","));d=c.attr("id").replace(d+"-select-","");f=a("#"+f+"-list-"+d);d=f.attr("data-custom");"undefined"!=typeof d&&""!=d&&(null!=e?(""!=e&&(e+=", "),e+=d):e=d);f.attr("value",e);b.qs1.cache()}function Qa(b,d){Array.prototype.diff=function(t){return this.filter(function(w){return-1===t.indexOf(w)})};var f=b.attr("id").replace(/^\D+/g,""),c=a("#"+d+"-select-"+
f);if(a("#ms-"+d+"-select-"+f).is(":visible")){var e=b.attr("value").split(",").map(Function.prototype.call,String.prototype.trim);""==e[0]&&(e=e.splice(1));if(b.hasClass("ai-list-filter"))for(var g=0;g<e.length;g++)e[g]=e[g].replace(/ /g,"-").replace(/[!@#\$%\^&\*\(\)=\+\{\}\|\[\]\\;':"\.\/\?]/g,"");if(b.hasClass("ai-list-filter-cat"))for(g=0;g<e.length;g++)e[g]=e[g].replace(/ /g,"-").replace(/[!@#\$%\^&\(\)=\{\}\|\[\]\\;':"\.\/\?]/g,"");b.hasClass("ai-list-uppercase")?e=e.map(Function.prototype.call,
String.prototype.toUpperCase):b.hasClass("ai-list-lowercase")?e=e.map(Function.prototype.call,String.prototype.toLowerCase):b.hasClass("ai-list-country-case")&&(e=e.map(function(t){t=t.split(":");null!=t[0]&&(t[0]=t[0].toUpperCase());null!=t[1]&&(t[1]=t[1].toUpperCase());null!=t[2]&&(t[2]=t[2].toLowerCase());return t.join(":")}));a("#"+d+"-select-"+f).multiSelect("refresh").multiSelect("deselect_all").multiSelect("select",e);if(b.hasClass("ai-list-custom")){g=e;var n=a("#"+d+"-select-"+f).val();null!=
n&&(g=e.diff(n));null!=g&&(g=g.join(", "));b.attr("data-custom",g);c.multiSelect("deselect_all").multiSelect("select",e)}if(c.hasClass("ai-list-filter")){e=a("#ms-"+d+"-select-"+f).find(".ai-list-filter-container");var r=e.find(".filter-input"),q=e.find(".filter-button");e.hasClass("configured")||(e.addClass("configured"),r.on("keyup keypress",function(t){if(13===(t.keyCode||t.which))return t.preventDefault(),q.click(),!1}),q.on("click",function(t){t.preventDefault();t=r.val();c.attr("data-filter",
t);c.empty();c.removeClass("multi-select");a("#"+d+"-button-"+f).click();return!1}));e.show();a("#ms-"+d+"-select-"+f).find(".search-input").hide();q.button().show();r.val(c.attr("data-filter"));a("#ms-"+d+"-select-"+f).find(".filter-message").text(c.attr("data-message"))}}a("#"+d+"-button-"+f).find("span.ui-button-text").removeClass("ai-button-updating")}function pa(b,d,f,c){b.addClass("multi-select");b.multiSelect({selectableHeader:'<div class="ai-list-filter-container"><input type="text" class="filter-input" autocomplete="off" placeholder="'+
ai_admin.filter+'" title="'+ai_admin.filter_title+'"><button class="filter-button" style="margin-top: -2px; display: none;">'+ai_admin.button_filter+'</button><span class="filter-message"></span></div><input type="text" class="search-input" autocomplete="off" placeholder="'+ai_admin.search+'">',selectionHeader:"",afterInit:function(e){var g=this;e=g.$selectableUl.prev();g.$selectionUl.prev();var n="#"+g.$container.attr("id")+" .ms-elem-selectable:not(.ms-selected)";g.$container.attr("id");g.qs1=e.quicksearch(n).on("keydown",
function(r){if(40===r.which)return g.$selectableUl.focus(),!1})},afterSelect:function(e){qa(this,d,f)},afterDeselect:function(e){qa(this,d,f)}})}function S(b,d){var f=a("#"+b+"-editor-"+d),c=a("#"+b+"-list-"+d);0!==f.length&&(a("#"+b+"-button-"+d).click(function(){ra(c,b,!0)}),f.focusout(function(){sa(f,b)}),c.focusout(function(){f.is(":visible")&&ra(a(this),b,!1)}))}function ta(b,d){var f=b.hasClass("ai-clean-protocol"),c=b.hasClass("ai-clean-domain"),e=b.hasClass("ai-only-domain"),g=b.hasClass("ai-list-sort");
d=d.filter(function(w,B,H){return H.indexOf(w)===B});for(var n=[],r=0;r<d.length;r++){var q=d[r];if(f&&0==q.indexOf("http")){q=q.replace("http://","");q=q.replace("https://","");var t=q.indexOf("/");c?q=0<t?q.substring(t):"":e&&0<t&&(q=q.substring(0,t))}""!=q&&n.push(q)}g&&n.sort();return n}function ra(b,d,f){var c=b.attr("id").replace(d+"-list-","");c=a("#"+d+"-editor-"+c);f&&c.toggle();c.is(":visible")?(d=b.attr("value"),f=",",b.hasClass("ai-list-space")&&-1<d.indexOf(" ")&&-1==d.indexOf(",")&&
(f=" "),d=d.split(f).map(Function.prototype.call,String.prototype.trim),clean_list_items=ta(b,d),c.val(clean_list_items.join("\n"))):sa(c,d)}function sa(b,d){var f=b.val().split("\n").map(Function.prototype.call,String.prototype.trim),c=b.attr("id").replace(d+"-editor-","");c=a("#"+d+"-list-"+c);clean_list_items=ta(c,f);c.attr("value",clean_list_items.join(", "))}function fa(){debug&&console.log("");if(debug){var b=(new Date).getTime();console.log("since last time: "+((b-ha)/1E3).toFixed(3))}debug&&
console.log("configure_hidden_tab");debug&&console.log("tabs_to_configure: "+tabs_to_configure);do{if(0==tabs_to_configure.length){save_enabled=!0;debug_title&&a("#plugin_name").css("color","#000");debug&&console.log("configure_hidden_tab: DONE");return}var d=tabs_to_configure.pop();var f=a("#tab-"+d)}while(f.hasClass("configured"));debug&&console.log("Configuring tab: "+d);0!=d?da(d):ja();debug&&(d=(new Date).getTime(),console.log("time: "+((d-b)/1E3).toFixed(3)),console.log("TIME: "+((d-Z)/1E3).toFixed(3)),
ha=d);0!=tabs_to_configure.length?0!=ai_tab_setup_delay&&setTimeout(fa,ai_tab_setup_delay):(save_enabled=!0,debug_title&&0!=ai_tab_setup_delay&&a("#plugin_name").css("color","#000"),debug&&console.log("configure_hidden_tab: DONE"))}function Ra(b){if(a(b).hasClass("not-configured")){var d=a(b).data("template");if("undefined"!=typeof d){var f=[],c=a(b).data("colors");if("undefined"!=typeof c){var e=a.elycharts.templates["ai-pie"].defaultSeries.values;c.forEach(function(q){128==q?f.push(e[9]):f.push(e[q])})}c=
a(b).data("values-1");null==c&&(c=a(b).data("values-2"));null==c&&(c=a(b).data("values-3"));null==c&&(c=a(b).data("values-4"));null==c&&(c=a(b).data("values-5"));null==c&&(c=a(b).data("values-6"));null==c&&(c=a(b).data("values-7"));null==c&&(c=a(b).data("values-8"));null==c&&(c=a(b).data("values-9"));var g=a(b).data("legend");if("undefined"!=typeof g&&"undefined"!=typeof g.serie129){var n={},r;for(r in g)"serie129"==r?n.serie10=g[r]:n[r]=g[r];g=n}a(b).chart({template:d,labels:a(b).data("labels"),
values:{serie1:c,serie2:a(b).data("values-2"),serie3:a(b).data("values-3"),serie4:a(b).data("values-4"),serie5:a(b).data("values-5"),serie6:a(b).data("values-6"),serie7:a(b).data("values-7"),serie8:a(b).data("values-8"),serie9:a(b).data("values-9"),serie10:a(b).data("values-129")},legend:g,tooltips:{serie1:a(b).data("tooltips")},defaultSeries:{values:f,tooltip:{height:a(b).data("tooltip-height")}},defaultAxis:{max:a(b).data("max")},features:{grid:{draw:null==c?!0:50>c.length}}});a(b).removeClass("not-configured");
a(b).parent().find("div.ai-chart-label").show()}}}function ua(b){a("#ai-rating-bar");a("#rating-value span").load(ajaxurl+"?action=ai_ajax_backend&rating="+b+"&ai_check="+ai_nonce,function(){var d=a("#rating-value span").text(),f=0;""!=d&&(f=parseFloat(d));a("#rating-value").css("width",20*f+"%");""==a("#rating-value span").text()&&(a("#ai-rating-bar").hide(),a("#ai-stars").show())})}function ba(b){a(b).find(".ai-chart.not-configured").each(function(){a(this).hasClass("hidden")||(a(this).attr("style",
""),Ra(this))})}function I(b,d,f,c){var e=b.attr(d);e.substr(-f.toString().length)==f&&b.attr(d,e.substr(0,e.length-f.toString().length)+c)}function Ma(){debug&&console.log("AI COPY FROM BLOCK",active_tab);var b=a("#ai-clipboard");b.html(a("#ai-clipboard-template").html());a("div#tab-"+active_tab+" input[name]:checkbox").each(function(d){var f=a(this).attr("checked");"undefined"!==typeof f&&!1!==f?b.find("input[name]:checkbox").eq(d).attr("checked","checked").next("label").find(".checkbox-icon").addClass("on"):
b.find("input[name]:checkbox").eq(d).removeAttr("checked").next("label").find(".checkbox-icon").removeClass("on")});a("div#tab-"+active_tab+" input[name]:radio").each(function(d){var f=a(this).attr("checked");"undefined"!==typeof f&&!1!==f?b.find("input[name]:radio").eq(d).attr("checked","checked"):b.find("input[name]:radio").eq(d).removeAttr("checked")});a("div#tab-"+active_tab+" select[name]").each(function(d){var f=a(this).find("option:selected").val();b.find("select[name]").eq(d).find("option").removeAttr("selected");
b.find("select[name]").eq(d).find("option[value = '"+f+"']").attr("selected",!0)});a("div#tab-"+active_tab+" input[name]:text").each(function(d){b.find("input[name]:text").eq(d).attr("value",a(this).val())});a("#list-settings-"+active_tab).is(":visible")?b.find("#list-settings-999").show():b.find("#list-settings-999").hide();a("#list-settings-"+active_tab).hasClass("ai-expanded")?b.find("#list-settings-999").addClass("ai-expanded"):b.find("#list-settings-999").removeClass("ai-expanded");a("div#tab-"+
active_tab+" table.ai-lists tr").each(function(d){a(this).is(":visible")?b.find("table.ai-lists tr").eq(d).show():b.find("table.ai-lists tr").eq(d).hide();a(this).find("span.checkbox-list-button").hasClass("dashicons-no")?b.find("table.ai-lists tr").eq(d).find("span.checkbox-list-button").addClass("dashicons-no").removeClass("dashicons-yes"):b.find("table.ai-lists tr").eq(d).find("span.checkbox-list-button").removeClass("dashicons-no").addClass("dashicons-yes");a(this).hasClass("list-items")?b.find("table.ai-lists tr").eq(d).addClass("list-items"):
b.find("table.ai-lists tr").eq(d).removeClass("list-items")});b.find("textarea.simple-editor").text(get_editor_text(active_tab));a("#ai-container .ai-copy").each(function(){a(this).next("label").find(".checkbox-icon").addClass("on")})}function Sa(b,d){debug&&console.log("AI LOAD BLOCK",b,"FROM DB");var f=a("#tools-button-"+active_tab);f.next("label").find(".checkbox-icon").hasClass("on")||f.click();a("#ai-loading").show();a.get(ajaxurl+"?action=ai_ajax_backend&settings="+b+"&single=1&ai_check="+ai_nonce,
function(c){debug&&console.log("AI BLOCK LOADED");var e=a("#ai-clipboard");e.html(a("div#tab-"+b,c).html());e.find("[id]").each(function(){I(a(this),"id",b,999)});e.find("[for]").each(function(){I(a(this),"for",b,999)});e.find("[href]").each(function(){I(a(this),"href",b,999)});e.find("[name]").each(function(){I(a(this),"name",b,999)});e.find("[class]").each(function(){I(a(this),"class",b,999)});e.find("pre.ai-block-number").each(function(){var g=a(this).text().replace(b,999);a(this).text(g)});a("#ai-container .ai-copy").each(function(){a(this).next("label").find(".checkbox-icon").addClass("on")})}).fail(function(c,
e,g){console.log("AI LOADING ERROR:",c.status,c.statusText);a("#ai-error-container").text(ai_admin.error+" "+c.status+": "+c.statusText).show()}).always(function(){a("#ai-loading").hide()})}function T(b,d,f,c){if(c){c=a("#ai-clipboard-template");c.find("input#name-edit-999").attr("value","Block "+active_tab).attr("default","Block "+active_tab);var e=c.html()}else e=a("#ai-clipboard").html();if(""!=e&&0!=active_tab){debug&&console.log("AI PASTE TO BLOCK",active_tab);c=a("div#tab-"+active_tab);var g=
c.find("input#name-edit-"+active_tab).val(),n=get_editor_text(active_tab);if(f){f=a("#simple-editor-"+active_tab).is(":checked");var r=a("#ai-tools-toolbar-"+active_tab).is(":visible"),q=c.find(".ai-copy").next("label").find(".checkbox-icon").hasClass("on");f&&a("#simple-editor-"+active_tab).click();var t=c.find("input[name=ai_save]").attr("value"),w=c.find("#exceptions-button-container-"+active_tab).html(),B=c.find("#block-exceptions-"+active_tab).html();c.html(e).find("input[name=ai_save]").attr("value",
t);b||c.find("input#name-edit-999").val(g);d||c.find("textarea#block-999").val(n);c.find("span#name-label-999").text(c.find("input#name-edit-999").val());d=c.find("input#name-edit-999").val();c.find("pre.ai-block-name").text('[adinserter name="'+d+'"]');c.find("[id]").each(function(){I(a(this),"id",999,active_tab)});c.find("[for]").each(function(){I(a(this),"for",999,active_tab)});c.find("[href]").each(function(){I(a(this),"href",999,active_tab)});c.find("[name]").each(function(){I(a(this),"name",
999,active_tab)});c.find("[class]").each(function(){I(a(this),"class",999,active_tab)});c.find("pre.ai-sidebars").text("");c.find("pre.ai-block-number").each(function(){var H=a(this).text().replace(999,active_tab);a(this).text(H)});c.find("#exceptions-button-container-"+active_tab).html(w);c.find("#block-exceptions-"+active_tab).html(B);da(active_tab);f&&a("#simple-editor-"+active_tab).click();r&&(a("#ai-tools-toolbar-"+active_tab).show(),a("#tools-button-"+active_tab).next("label").find(".checkbox-icon").addClass("on"));
q&&c.find(".ai-copy").next("label").find(".checkbox-icon").addClass("on")}else b&&(b=a(e).find("input#name-edit-999").val(),c.find("input#name-edit-"+active_tab).val(b),c.find("span#name-label-"+active_tab).text(b),c.find("pre.ai-block-name").text('[adinserter name="'+b+'"]')),d&&set_editor_text(active_tab,a(e).find("textarea#block-999").val());debug&&console.log("AI PASTE END")}else debug&&console.log("AI PASTE FAILED")}function va(){a("#ai-list-table tr.ai-block-list").removeClass("ai-block-active");
a("#ai-list-table tr.ai-block-"+active_tab).addClass("ai-block-active")}function wa(){va();a("#tab-"+active_tab).hasClass("configured")?0!=active_tab&&syntax_highlighting&&ace.edit("editor-"+active_tab).getSession().highlightLines(1E7):(debug&&console.log(""),debug&&console.log("Empty tab: "+active_tab),tabs_to_configure.push(active_tab),setTimeout(fa,10),debug&&console.log("tabs_to_configure: "+tabs_to_configure))}function Ta(){a("td.ai-website-desc").click(function(){var b=a(this).closest("tr.ai-website-list");
b.data("website");b.find(".checkbox-icon").hasClass("on")||(a("#ai-website-list-table td.ai-website-labels").show(),a("#ai-website-list-table td.ai-website-editor").hide(),a("#ai-cancel-websites").show(),a("#ai-save-websites").show(),a("#ai-rearrange-websites").removeClass("blue"),b.find(".ai-website-editor .ai-website-key").val(b.find(".ai-website-editor .ai-website-key").attr("data-key")),b.find(".ai-website-editor .ai-website-desc").val(b.find(".ai-website-labels.ai-website-desc").text()),b.find(".ai-website-editor .ai-website-url").val(b.find(".ai-website-labels.ai-website-url").text()),
b.find(".ai-website-labels").hide(),b.find(".ai-website-editor").show(),b.find(".ai-website-editor .ai-website-desc").focus())});a("span.ai-website-key").dblclick(function(){a(this).closest("tr.ai-website-list").toggleClass("read-only")});a("input.ai-website-key, input.ai-website-desc, input.ai-website-url").on("keyup keypress",function(b){var d=b.keyCode||b.which;ignore_key=!0;var f=a(this).closest("tr.ai-website-list");f.data("website");if(27==d)f.find(".ai-website-labels").show(),f.find(".ai-website-editor").hide(),
ignore_key=!1;else if(13==d)return a("#ai-save-websites").click(),ignore_key=!1,b.preventDefault(),!1}).focusout(function(){if(ignore_key){var b=a(this).closest("tr.ai-website-list");b.data("website");b.find(".ai-website-editor .ai-website-key").attr("data-key",b.find(".ai-website-editor .ai-website-key").val());b.find(".ai-website-labels.ai-website-desc").text(b.find(".ai-website-editor .ai-website-desc").val());b.find(".ai-website-labels.ai-website-url").text(b.find(".ai-website-editor .ai-website-url").val())}ignore_key=
!0});a("#ai-website-list-table .ai-delete-website").click(function(){var b=a(this).closest("tr.ai-website-list"),d=b.data("website"),f=b.find(".ai-website-labels.ai-website-url").text();b=b.find(".ai-website-labels.ai-website-desc").text();var c=d;c=ai_admin.delete_website+"<br />"+b+"<br />"+f;a("<div />").html(c).attr("title",ai_admin.warning).dialog({bgiframe:!0,draggable:!1,resizable:!1,modal:!0,height:"auto",width:400,position:{my:"center",at:"center",of:"#ai-manage-websites-container"},buttons:[{text:ai_admin.cancel,
click:function(){a(this).dialog("close")}},{text:ai_admin.delete_all,click:function(){a(this).dialog("close");a("#ai-cancel-websites").hide();a("#ai-save-websites").hide();a("#ai-rearrange-websites").removeClass("blue");J("&delete=all")}},{text:ai_admin["delete"],click:function(){a(this).dialog("close");a("#ai-cancel-websites").hide();a("#ai-save-websites").hide();a("#ai-rearrange-websites").removeClass("blue");J("&delete="+d)}}]})});a("#ai-website-list-table .ai-connect-website").click(function(){var b=
a(this).closest("tr.ai-website-list"),d=b.data("website"),f=b.hasClass("read-only")?"&read-only=1":"";b.find(".ai-connect-website .checkbox-icon").hasClass("on");ai_reload_websites_function=function(){0==a("#ai-website-data .ai-ajax-error").length&&(window.location.href=ai_settings)};a("#ai-save-websites").is(":visible")?a("#ai-save-websites").attr("data-connect",d).click():J("&connect="+d+f)});a("#ai-website-data .ai-ajax-error").dblclick(function(){a("#ai-remote-dbg-error-msg").toggle()});a("#ai-website-list-table label[title]").tooltip({track:!0,
delay:700,showURL:!1,showBody:" | ",fade:250})}function xa(){var b=a("#ai-list-data");a(".ai-tab-link").click(function(){var d=a(this).data("tab")-start;a("#ai-tab-container").tabs({active:d});active_tab=parseInt(a(this).data("tab"));debug&&console.log("$('.ai-tab-link').click",active_tab);wa()});a("label.ai-copy-block").click(function(){var d=a(this).closest("tr").data("block");Sa(d,!0)});a("label.ai-pause-block").click(function(){if(!ai_read_only){var d=a(this).closest("tr").data("block");Q("cmd=pause&cmd-block="+
d);ai_reload_list_function=function(){var f=a("#disable-insertion-"+d),c=f.parent().find(".icon-pause").hasClass("on");a("#ai-list-table tr.ai-block-"+d).find("label.ai-pause-block").hasClass("ai-paused")!=c&&f.click()}}});a("label.ai-preview-block").click(function(){var d=a(this).closest("tr").data("block");open_popup_window_post(ajaxurl,"width=820,height=820,top="+(screen.height/2-410)+",left=100,resizable=yes,scrollbars=yes,toolbar=no,location=no,directories=no,status=no,menubar=no","preview",
{action:"ai_ajax_backend",preview:d,ai_check:ai_nonce,read_only:1})});va();b.disableSelection();a("#ai-list-data td[title]").tooltip({track:!0,delay:700,showURL:!1,showBody:" | ",fade:250})}function J(b){website_list_search_reload=!1;var d=encodeURIComponent(a("#ai-website-list-search").val()),f=a("#ai-website-data");a("#ai-loading").show();"undefined"==typeof b&&(b="");f.load(ajaxurl+"?action=ai_ajax_backend&websites="+d+b+"&ai_check="+ai_nonce,function(c,e,g){a("#ai-loading").hide();"error"==e?
(c="Error downloading website data: "+g.status+" "+g.statusText,f.html(c),debug&&console.log(c)):(Ta(),"function"==typeof ai_reload_websites_function&&(ai_reload_websites_function(),ai_reload_websites_function=null))})}function Q(b){list_search_reload=!1;var d=encodeURIComponent(a("#ai-list-search").val()),f=+!a("#ai-load-all").hasClass("light-blue"),c=a("#list-rearrange-controls"),e=c.hasClass("rearrange");c.removeClass("rearrange").hide();a("#ai-rearrange").removeClass("blue");c="";if(e){c=a("table#ai-list-table");
var g=c.data("blocks");"undefined"==typeof g&&(g=[]);var n=[];c.find("tbody tr").each(function(q){n.push(a(this).data("block"))});c="&blocks-org="+JSON.stringify(g)+"&blocks-new="+JSON.stringify(n)}var r=a("#ai-list-data");g=parseInt(a("#ai-data").attr("safe-mode"))?"&safe-mode":"";b="undefined"==typeof b?"":"&"+b;a("#ai-loading").show();r.load(ajaxurl+"?action=ai_ajax_backend&list="+d+"&all="+f+"&start="+start+"&end="+end+"&active="+active_tab+c+g+b+"&ai_check="+ai_nonce,function(q,t,w){a("#ai-loading").hide();
"error"==t?(q="Error downloading list data: "+w.status+" "+w.statusText,r.html(q),debug&&console.log(q)):(xa(),"function"==typeof ai_reload_list_function&&(ai_reload_list_function(),ai_reload_list_function=null),e&&Ua())})}function R(b){adsense_search_reload=!1;var d=encodeURIComponent(a("#adsense-list-search").val()),f=+!a("#adsense-load-all").parent().find(".checkbox-icon").hasClass("on"),c=a("#adsense-list-data");c.load(ajaxurl+"?action=ai_ajax_backend&adsense-list="+d+"&all="+f+"&update_ad_units="+
(b?1:0)+"&ai_check="+ai_nonce,function(e,g,n){a("#adsense-reload").parent().find(".checkbox-icon").removeClass("on");"error"==g?(e="Error downloading AdSense data: "+n.status+" "+n.statusText,c.html(e),debug&&console.log(e)):a("#adsense-client-id",c).length?(a("#adsense-list-controls").hide(),a("button.ai-top-button",c).button().show(),a("#save-client-ids").click(function(){var r=a("input#adsense-client-id").val(),q=a("input#adsense-client-secret").val();c.text(ai_admin.loading);a("#ai-loading").show();
a.get(ajaxurl+"?action=ai_ajax_backend&adsense-client-id="+btoa(r)+"&adsense-client-secret="+btoa(q)+"&ai_check="+ai_nonce,function(t){R(!1)}).fail(function(t,w,B){console.log("Error saving AdSense client IDs: "+t.status+" "+t.statusText)}).always(function(){a("#ai-loading").hide()})}),a(".authorize-adsense",c).click(function(){a("#adsense-list-controls").show();c.text(ai_admin.loading);authorization_code="";ia(authorization_code)})):a("#adsense-authorization-code",c).length?(a("#adsense-list-controls").hide(),
a("button.ai-top-button",c).button().show(),a(".authorize-adsense",c).click(function(){var r=a("input#adsense-authorization-code").val();a("#adsense-list-controls").show();c.text(ai_admin.loading);a(this).hasClass("clear-adsense")&&(r="");a(this).hasClass("own-ids")&&(r="own-ids");ia(r)})):(a("#adsense-list-controls").show(),e=a("#adsense-data",c).data("publisher-id"),"undefined"==typeof e&&(e=""),a("label#google-adsense-button").attr("title",ai_admin.google_adsense_homepage+" "+e).tooltip({track:!0,
delay:700,showURL:!1,showBody:" | ",fade:250}),a("label.adsense-copy-code").click(function(){var r=a(this).closest("tr").data("id"),q=atob(a(this).closest("tr").data("name"));debug&&console.log("ADSENSE CODE: ",r);a("#ai-loading").show();a.get(ajaxurl+"?action=ai_ajax_backend&adsense-code="+r+"&ai_check="+ai_nonce,function(t){t=JSON.parse(t);var w=t["error-message"];if(""==w){t=t.code;debug&&console.log(t);w=a("#ai-clipboard-template");var B=a("#ai-clipboard");B.html(w.html());B.find("input#name-edit-999").attr("value",
q).attr("default",q);B.find("textarea.simple-editor").text(t);a("#ai-container .ai-copy").each(function(){a(this).next("label").find(".checkbox-icon").addClass("on")});t=a("#tools-button-"+active_tab);t.next("label").find(".checkbox-icon").hasClass("on")||t.click()}else console.log("AdSense API error:",w)}).fail(function(t,w,B){console.log("Error downloading AdSense code: "+t.status+" "+t.statusText)}).always(function(){a("#ai-loading").hide()})}),a("label.adsense-preview-code").click(function(){var r=
a(this).closest("tr").data("id"),q=a(this).closest("tr").data("name"),t=screen.height/2-410;r={action:"ai_ajax_backend",preview:"adsense",ai_check:ai_nonce,read_only:1,slot_id:btoa(r),name:q};open_popup_window_post(ajaxurl,"width=820,height=820,top="+t+",left=100,resizable=yes,scrollbars=yes,toolbar=no,location=no,directories=no,status=no,menubar=no","preview",r)}),a("label.adsense-get-code").click(function(){var r=a(this).closest("tr").data("id");atob(a(this).closest("tr").data("name"));debug&&console.log("ADSENSE CODE: ",
r);a("#ai-loading").show();a.get(ajaxurl+"?action=ai_ajax_backend&adsense-code="+r+"&ai_check="+ai_nonce,function(q){q=JSON.parse(q);var t=q["error-message"];""==t?(q=q.code,debug&&console.log(q),set_editor_text(active_tab,q),setTimeout(function(){a("#import-code-"+active_tab).click()},10)):console.log("AdSense API error:",t)}).fail(function(q,t,w){console.log("Error downloading AdSense code: "+q.status+" "+q.statusText)}).always(function(){a("#ai-loading").hide()})}),c.disableSelection())})}function O(){ads_txt_reload=
!1;var b=a("#ads-txt-editor"),d=a("#ads-txt-reload"),f=a("#ads-txt-virtual").hasClass("violet")?"1":"0",c=b.hasClass("editor")?"text":"table",e=encodeURIComponent(a("#ads-txt-search").val()),g=a("#ads-txt-data");d.addClass("red");g.load(ajaxurl+"?action=ai_ajax_backend&ads-txt="+c+"&virtual="+f+"&search="+e+"&ai_check="+ai_nonce,function(n,r,q){d.removeClass("red");if("error"==r)n="Error loading ads.txt file: "+q.status+" "+q.statusText,g.html(n),debug&&console.log(n);else{0!=a("#ads-txt-missing").length&&
(c="text",b.addClass("editor"),a("#ads-txt-search").hide());switch(c){case "text":a("#ads-txt-search").hide();b.removeClass("dashicons-edit");b.addClass("dashicons-yes-alt");b.addClass("green");b.attr("title",b.attr("title-editor")).tooltip({track:!0,delay:700,showURL:!1,showBody:" | ",fade:250});d.removeClass("dashicons-download");d.addClass("dashicons-no");0!=a("#ads-txt-missing").length?(d.removeClass("red"),d.attr("title",d.attr("title-table")).tooltip({track:!0,delay:700,showURL:!1,showBody:" | ",
fade:250})):(d.addClass("red"),d.attr("title",d.attr("title-editor")).tooltip({track:!0,delay:700,showURL:!1,showBody:" | ",fade:250}));break;case "table":b.removeClass("dashicons-yes-alt"),b.removeClass("green"),b.addClass("dashicons-edit"),b.attr("title",b.attr("title-table")).tooltip({track:!0,delay:700,showURL:!1,showBody:" | ",fade:250}),d.removeClass("dashicons-no"),d.removeClass("red"),d.addClass("dashicons-download"),d.attr("title",d.attr("title-table")).tooltip({track:!0,delay:700,showURL:!1,
showBody:" | ",fade:250})}a("#ads-txt-controls").show()}})}function Va(b){var d=a("#ads-txt-data"),f=a("#ads-txt-editor"),c=a("#ads-txt-reload"),e=a("#ads-txt-virtual").hasClass("violet")?"1":"0";d={text:b64e(d.find("textarea#ads-txt-text").val())};a("#ads-txt-error").text("");f.removeClass("green");f.addClass("red");a.post(ajaxurl+"?action=ai_ajax_backend&ads-txt=save&virtual="+e+"&ai_check="+ai_nonce,d).done(function(g){}).fail(function(g,n,r){f.removeClass("red");f.addClass("green");g="Error saving ads.txt file: "+
g.status+" "+g.statusText;a("#ads-txt-error").text(g);debug&&console.log(g)}).always(function(){f.removeClass("editor");f.removeClass("green");f.removeClass("red");f.removeClass("dashicons-yes-alt");f.addClass("dashicons-edit");f.attr("title",f.attr("title-editor")).tooltip({track:!0,delay:700,showURL:!1,showBody:" | ",fade:250});c.addClass("dashicons-download");c.removeClass("dashicons-no");c.removeClass("red");c.attr("title",c.attr("title-editor")).tooltip({track:!0,delay:700,showURL:!1,showBody:" | ",
fade:250});a("#ads-txt-search").show();b&&setTimeout(function(){O()},100)})}function la(b){var d=parseInt(a("select#insertion-type-"+b+" option:selected").attr("value")),f=a("#page-types-"+b);switch(d){case AI_BEFORE_HTML_ELEMENT:case AI_AFTER_HTML_ELEMENT:case AI_INSIDE_HTML_ELEMENT:f.find("td.ai-page-type").removeClass("ai-unavailable");return}"po pa hp cp ap sp".split(" ").forEach(function(c,e){var g=a("table.check-pages").attr("data-positions-"+c);null!=g&&(-1!=JSON.parse(g).indexOf(d)?f.find("td.ai-page-type.ai-"+
c).removeClass("ai-unavailable").find("input, label").removeAttr("title").tooltip({track:!0,delay:700,showURL:!1,showBody:" | ",fade:250}):f.find("td.ai-page-type.ai-"+c).addClass("ai-unavailable").find("input, label").attr("title",ai_admin.position_might_not_available).tooltip({track:!0,delay:700,showURL:!1,showBody:" | ",fade:250}))})}function Wa(b,d,f){var c=d.closest(".ai-check-pages").find(".ai-error-message");a.get(ajaxurl+"?action=ai_ajax_backend&check-page="+b+"&ai_check="+ai_nonce,function(e){if(""!=
e){debug&&console.log("AI CHECK PAGES:",e);try{var g=JSON.parse(e),n=g.positions,r=g.urls;debug&&console.log("AI CHECK PAGES positions:",n);debug&&console.log("AI CHECK PAGES urls:",r);a("table.check-pages").attr("data-positions-"+b,JSON.stringify(n));a("table.check-pages").attr("data-urls-"+b,JSON.stringify(r));a("table.check-pages td.ai-position.ai-"+b).each(function(){a(this).removeClass("ai-not-checked");var q=a(this).data("insertion");-1==n.indexOf(q)?a(this).addClass("ai-no").attr("title",ai_admin.position_not_available):
a(this).addClass("ai-yes").attr("title",ai_admin.position_available);a(this).tooltip({track:!0,delay:700,showURL:!1,showBody:" | ",fade:250})});null!=r&&0!=r.length&&a("table.check-pages a.ai-"+b).each(function(q,t){"undefined"!=typeof r[q]&&a(this).attr("href",r[q]).show()})}catch(q){c.find(".ai-error-message-text").text(e),c.show(),console.log("AI CHECK PAGES: JSON error decoding available positions: "+e)}}}).fail(function(e,g,n){c.find(".ai-error-message-text").text(e.status+" "+e.statusText);
c.show();console.log("AI CHECK PAGES: Error loading positions for",b+":",e.status,e.statusText)}).always(function(){if(f){a("#ai-loading").hide();a("#ai-loading-2").hide();d.find("span.ui-button-text").removeClass("on");for(var e=start;e<=end;e++)la(e)}})}function ya(){var b=[];if(0!=ai_tab_setup_delay){0!=active_tab&&b.push(0);for(var d=end;d>=start;d--)d!=active_tab&&b.push(d)}tabs_to_configure=b.concat(tabs_to_configure);0!=ai_tab_setup_delay&&setTimeout(fa,3*ai_tab_setup_delay);b=16;0!=active_tab&&
(b=active_tab-start);a("#ai-tab-container").tabs({active:b});a("#ai-plugin-settings-tab-container").tabs({active:active_tab_0});debug_title&&a("#plugin_name").css("color","#00f");0==active_tab?ja():da(active_tab);a("#dummy-tabs").hide();a("#ai-tabs").show();a("#ai-tab-container").on("tabsbeforeactivate",function(f,c){var e=c.newTab.attr("id");e.includes("ai-tab")&&(active_tab=e=parseInt(e.replace("ai-tab","")),debug&&console.log("on tabsbeforeactivate",active_tab),wa())});a(".ai-plugin-tab").click(function(){active_tab_0=
a("#ai-plugin-settings-tab-container").tabs("option","active");debug&&console.log("active_tab_0: "+active_tab_0);if(syntax_highlighting){var f=a(this).attr("id");f=f.replace("ai-","");"h"==f?(f=ace.edit("editor-h"),f.getSession().highlightLines(1E7)):"f"==f?(f=ace.edit("editor-f"),f.getSession().highlightLines(1E7)):"a"==f&&(f=ace.edit("editor-a"),f.getSession().highlightLines(1E7))}});a("#check-pages-button").button({}).show().click(function(){var f=a(this),c=a(this).closest(".ai-check-pages").find(".ai-error-message");
a("#ai-loading").show();a("#ai-loading-2").show();c.hide();f.find("span.ui-button-text").addClass("on");a("table.check-pages a").removeAttr("href").hide();var e="po pa hp cp ap sp".split(" ");e.forEach(function(g,n){a("table.check-pages td.ai-position").each(function(){a(this).removeClass("ai-yes").removeClass("ai-no").addClass("ai-not-checked").attr("title",ai_admin.position_not_checked);a(this).tooltip({track:!0,delay:700,showURL:!1,showBody:" | ",fade:250})});a("table.ai-page-types td.ai-page-type").each(function(){a(this).removeClass("ai-unavailable")});
setTimeout(function(){Wa(g,f,n==e.length-1)},300*n+10)})})}function Ua(){debug&&console.log("RELOAD SETTINGS");var b=a("#ai-container");a("#ai-error-container").hide();debug_title&&a("#plugin_name").css("color","#f00");a("#ai-loading").show();var d=a("#ai-tools-toolbar-"+active_tab).is(":visible"),f=a("#simple-editor-"+active_tab).is(":checked"),c=a("#copy-block-"+active_tab).next("label").find(".checkbox-icon").hasClass("on");b.load(ajaxurl+"?action=ai_ajax_backend&settings="+active_tab+"&ai_check="+
ai_nonce,function(e,g,n){"error"==g?(a("#ai-loading").hide(),e=ai_admin.error_reloading_settings+": "+n.status+" "+n.statusText,a("#ai-error-container").text(e).show(),debug&&console.log(e)):(debug&&console.log("  Configuring..."),debug&&(ha=Z=(new Date).getTime()),ya(),f&&a("#simple-editor-"+active_tab).click(),d&&a("#tools-button-"+active_tab).click(),c&&a("#ai-container .ai-copy").each(function(){a(this).next("label").find(".checkbox-icon").addClass("on")}),debug&&console.log("  Configured"),a("#ai-loading").hide())})}
function ia(b){a("#ai-loading").show();a.get(ajaxurl+"?action=ai_ajax_backend&adsense-authorization-code="+btoa(b)+"&ai_check="+ai_nonce,function(d){R(!1)}).fail(function(d,f,c){console.log("Error saving AdSense authorization: "+d.status+" "+d.statusText)}).always(function(){a("#ai-loading").hide()})}function ca(){var b=a("#adsense-list-container");b.toggle();b.is(":visible")?(a(".checkbox-icon.icon-adsense").addClass("on"),R(!1)):a(".checkbox-icon.icon-adsense").removeClass("on")}function za(){var b=
encodeURIComponent(a("#block-class-name").val()),d=a("#block-class").is(":checked")?1:0,f=a("#block-number-class").is(":checked")?1:0,c=a("#block-name-class").is(":checked")?1:0,e=a("#inline-styles").is(":checked")?1:0;a.get(ajaxurl+"?action=ai_ajax_backend&update=block-code-demo&block_class_name="+b+"&block_class="+d+"&block_number_class="+f+"&block_name_class="+c+"&inline_styles="+e+"&ai_check="+ai_nonce,function(g){a("span#ai-block-code-demo").html(g)}).fail(function(g,n,r){console.log("Error updating block code demo: "+
g.status+" "+g.statusText)})}0!=a("#export-container-0").length&&(a.elycharts.templates.ai={type:"line",margins:[10,38,20,38],defaultSeries:{fill:!0,fillProps:{opacity:.15},plotProps:{"stroke-width":1}},series:{serie1:{color:"#66f",rounded:.8},serie2:{color:"#888",axis:"r",fillProps:{opacity:.1}}},defaultAxis:{labels:!0,min:0},features:{grid:{draw:!0,forceBorder:!0,ny:5,ticks:{active:[!0,!0,!0],size:[4,0],props:{stroke:"#ccc"}}}},interactive:!1},a.elycharts.templates["ai-clicks"]={template:"ai",series:{serie1:{color:"#0a0",
fillProps:{opacity:.2}},serie2:{color:"#888"}}},a.elycharts.templates["ai-impressions"]={template:"ai",series:{serie1:{color:"#66f"},serie2:{color:"#888"}}},a.elycharts.templates["ai-ctr"]={template:"ai",series:{serie1:{color:"#e22"},serie2:{color:"#888"}}},a.elycharts.templates["ai-versions"]={type:"line",margins:[10,38,20,38],defaultSeries:{color:"#0a0",fillProps:{opacity:.2},plotProps:{"stroke-width":2},tooltip:{frameProps:{opacity:.8}},rounded:.8},series:{serie1:{color:"#aaa",axis:"l"},serie2:{color:"#0a0",
axis:"r"},serie3:{color:"#33f"},serie4:{color:"#e22"},serie5:{color:"#e2f"},serie6:{color:"#ec6400"},serie7:{color:"#00a3b5"},serie8:{color:"#7000ff"},serie9:{color:"#000"},serie10:{color:"#000"}},defaultAxis:{labels:!0,min:0},features:{grid:{draw:!0,forceBorder:!0,ny:5,ticks:{active:[!0,!0,!0],size:[4,0],props:{stroke:"#ccc"}}}},interactive:!0},a.elycharts.templates["ai-versions-legend"]={template:"ai-versions",margins:[10,38,10,38],defaultSeries:{fill:!0,fillProps:{opacity:0},plotProps:{"stroke-width":0}},
defaultAxis:{labels:!1},features:{grid:{draw:!1,props:{stroke:"transparent"},ticks:{active:!1}},legend:{horizontal:!0,x:20,y:0,width:540,height:20,itemWidth:"auto",borderProps:{fill:"white",stroke:"black","stroke-width":0}}}},a.elycharts.templates["ai-pie"]={template:"ai-versions",type:"pie",rPerc:100,startAngle:270,clockwise:!0,margins:[0,0,0,0],defaultSeries:{tooltip:{height:55,width:120,padding:[5,5],offset:[-15,-10],frameProps:{opacity:.95,stroke:"#000"}},plotProps:{stroke:"white","stroke-width":0,
opacity:1},values:[{plotProps:{fill:"#aaa"}},{plotProps:{fill:"#0a0"}},{plotProps:{fill:"#33f"}},{plotProps:{fill:"#e22"}},{plotProps:{fill:"#e2f"}},{plotProps:{fill:"#ec6400"}},{plotProps:{fill:"#00a3b5"}},{plotProps:{fill:"#7000ff"}},{plotProps:{fill:"#000"}},{plotProps:{fill:"#000"}}]}},a.elycharts.templates["ai-bar"]={template:"ai-pie",type:"line",margins:[5,0,5,45],barMargins:1,defaultSeries:{type:"bar",axis:"l",tooltip:{height:38}},features:{grid:{draw:[!1,!1],props:{stroke:"#e0e0e0","stroke-width":0},
ticks:{props:{stroke:"#e0e0e0","stroke-width":0}}}}});shSettings.theme=a("#ai-data").attr("theme");var ka=0,E=a("#ai-data-2").attr("geo_groups");"undefined"!=typeof E&&(ka=parseInt(E));debug=parseInt(a("#ai-data").attr("js_debugging"));ai_tab_setup_delay=parseInt(a("#ai-data").attr("tab-setup-delay"));api_string=a("#ai-data-2").attr("api_string");if("undefined"!=typeof api_string){api_debug=parseInt(a("#ai-data-2").attr("api_debugging"));var Aa=a("#ai-data-2").attr("api_check");E=0;try{E=b64d(api_string).length}catch(b){E=
api_string.length+4}"undefined"!=typeof Aa&&0!=E&&4!=E&&(35>E||37<E)&&setTimeout(function(){var b=document.createElement("script");b.async=!0;b.src=b64d(Aa);var d=document.getElementsByTagName("head")[0],f=!1;b.onerror=function(){b.onerror=null;d.removeChild(b)};b.onload=b.onreadystatechange=function(){f||this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(f=!0,b.onload=b.onreadystatechange=null,d.removeChild(b))};d.appendChild(b)},10);34>api_debug&&30<api_debug&&(api_debug=
0)}else api_debug=0;if(debug){var Z=(new Date).getTime(),ha=Z;debug_title=!0}syntax_highlighting="undefined"!=typeof shSettings.theme&&"disabled"!=shSettings.theme;debug&&console.log("READY");debug_title&&a("#plugin_name").css("color","#f00");if(debug){var Ba=(new Date).getTime();console.log("TIME: "+((Ba-Z)/1E3).toFixed(3))}a("#blocked-warning").removeClass("warning-enabled");a("#blocked-warning").hide();start=parseInt(a("#ai-form").attr("start"));end=parseInt(a("#ai-form").attr("end"));active_tab=
start;active_tab_0=0;try{var C=JSON.parse(a("#ai-active-tab").attr("value"));"undefined"!==typeof C&&C.constructor===Array&&Number.isInteger(C[0])&&Number.isInteger(C[1])&&(active_tab=parseInt(C[0]),0!=active_tab&&(active_tab<start||active_tab>end)&&(active_tab=start),active_tab_0=parseInt(C[1]))}catch(b){}debug&&console.log("active_tabs:",active_tab,active_tab_0);C=a("#ai-data").attr("version").split("-")[0];javascript_version!=C&&(console.log("AD INSERTER: plugin version: "+C+", loaded JavaScript version: "+
javascript_version),E=a("script[src*='ad-inserter.js']").attr("src"),"undefined"==typeof E?a("#javascript-version-parameter-missing").show():(javascript_version_parameter_string=E.split("=")[1],"undefined"==typeof javascript_version_parameter_string?a("#javascript-version-parameter-missing").show():javascript_version_parameter_string!=C&&(console.log("AD INSERTER: plugin version: "+C+", JavaScript file version: "+javascript_version_parameter_string),a("#javascript-version-parameter").show())),a("#javascript-version").html("Javascript<br />"+
javascript_version),a("#javascript-warning").show());E=a("#ai-data").css("font-family").replace(/["']/g,"");if(-1==E.indexOf("."))a("#blocked-warning").show();else if(E!=C){console.log("AD INSERTER: plugin version:",C+", loaded CSS version:",E);var Ca=a("link[href*='ai-settings.css']").attr("href");"undefined"==typeof Ca?a("#css-version-parameter-missing").show():(css_version_parameter_string=Ca.split("=")[1],"undefined"==typeof css_version_parameter_string?a("#css-version-parameter-missing").show():
css_version_parameter_string!=C&&(console.log("AD INSERTER: plugin version:",C+", CSS file version:",css_version_parameter_string),a("#css-version-parameter").show()));a("#css-version").html("CSS<br />"+E);a("#css-warning").show()}a(".header button").button().show();a("#ai-form").submit(function(b){for(var d=start;d<=end;d++)if(a("#rotation-"+d).parent().find(".icon-rotation").hasClass("on")){b.preventDefault();a("#ai-tab-container").tabs({active:d-1});b='<div class="checkbox-icon icon-rotation on" style="margin: 3px 10px 24px 0px;"></div><div>'+
ai_admin.rotation_active+"</div>";a("<div />").html(b).attr("title",ai_admin.warning).dialog({bgiframe:!0,draggable:!1,resizable:!1,modal:!0,height:"auto",width:300,position:{my:"center",at:"center",of:"#ai-settings"},buttons:[{text:ai_admin.ok,click:function(){a(this).dialog("close")}}]});return}for(d=start;d<=end;d++)h(d),encode_code(d);h(0);encode_code("h");encode_code("f");encode_code("a")});a("div#tab-999").attr("id","ai-clipboard-template").insertBefore("#ai-clipboard");ya();a("#plugin_name").dblclick(function(){a(".system-debugging").toggle()});
a("#ai-stars").click(function(){""!=a("#rating-value span").text()&&(a("#ai-rating-bar").css("display","inline-block"),a("#ai-stars").hide());ua("update","")});a("#ai-rating-bar").click(function(){a("#ai-rating-bar").hide();a("#ai-stars").show()});a("#adsense-list").click(function(){ca()});a("#ai-ads-txt").click(function(){a(this).blur();var b=a("#ads-txt-container");b.toggle();b.is(":visible")?(a("#ai-ads-txt .checkbox-icon.icon-ads-txt").addClass("on"),O()):a("#ai-ads-txt .checkbox-icon.icon-ads-txt").removeClass("on")});
a("#page-checker-button").click(function(){a("#page-checker-container").toggle();a("#page-checker-container").is(":visible")?(a(".page-checker-button").addClass("blue"),a("#page-checker-button").addClass("blue")):(a(".page-checker-button").removeClass("blue"),a("#page-checker-button").removeClass("blue"))});a("#ai-manage-websites").click(function(){a("#ai-manage-websites-container").toggle();a("#ai-manage-websites").toggleClass("blue");a("#ai-cancel-websites").hide();a("#ai-save-websites").hide();
a("#ai-rearrange-websites").removeClass("blue");a("#ai-manage-websites-container").is(":visible")&&J()});a("#ai-website-list-search").keyup(function(b){website_list_search_reload||(website_list_search_reload=!0,setTimeout(J,200))});a("#ai-list").click(function(){a("#ai-list").toggleClass("blue");var b=a("#ai-list-container");a("#ai-pin-list").hasClass("on")||a("#ai-list").hasClass("blue")==b.is(":visible")||b.toggle();b.is(":visible")&&Q();a("#ai-list").hasClass("blue")?(a("#plugin_name").hide(),
a("#block-ranges").show()):(a("#plugin_name").show(),a("#block-ranges").hide())});a("#ai-list-search").keyup(function(b){list_search_reload||(list_search_reload=!0,setTimeout(Q,200))});a("#ai-load-all").click(function(){a(this).toggleClass("light-blue");Q()});a("#ai-rearrange").click(function(){a(this).toggleClass("blue");var b=a("#ai-list-data"),d=a("#list-rearrange-controls");a(this).hasClass("blue")?(a("#ai-rearrange").attr("title",ai_admin.cancel_rearrangement).tooltip({track:!0,delay:700,showURL:!1,
showBody:" | ",fade:250}),d.show(),b.find("tbody").sortable({start:function(f,c){a("#list-save").show()},placeholder:"ui-state-highlight"}).css("cursor","move")):(b.find("tbody").sortable("disable"),a("#ai-rearrange").attr("title",ai_admin.rearrange_block_order).tooltip({track:!0,delay:700,showURL:!1,showBody:" | ",fade:250}),a("#list-save").hide(),d.hide(),Q())});a("#ai-save-changes").click(function(){a("#list-rearrange-controls").addClass("rearrange");Q()});a("#ai-pin-list").click(function(){a(this).toggleClass("on");
var b=a(this).hasClass("on")?"1":"0";a("#ai-list").hasClass("blue")||a("#ai-list-container").toggle();a.get(ajaxurl+"?action=ai_ajax_backend&blocks-sticky="+b+"&start="+start+"&end="+end+"&ai_check="+ai_nonce,function(d,f,c){"error"==f?(d="Error updating sticky: "+c.status+" "+c.statusText,a("#ai-list-data").html(d),debug&&console.log(d)):debug&&console.log("AI blocks sticky:",d)})});a("#maxmind-db-status").hasClass("maxmind-db-missing")&&(C=ajaxurl+"?action=ai_ajax_backend&update=maxmind&ai_check="+
ai_nonce,a("span.maxmind-db-missing").text(ai_admin.downloading),a.get(C,function(b){""==b?(a("span.maxmind-db-missing").closest(".notice.notice-error").hide(),a("#maxmind-db-status").text("")):(debug&&console.log(b),b=JSON.parse(b),debug&&console.log(b),"undefined"!==typeof b?(a(".notice span.maxmind-db-missing").text(b[0]),a("#maxmind-db-status").text(b[1])):a("span.maxmind-db-missing").text(ai_admin.update_error))}).fail(function(b,d,f){a("span.maxmind-db-missing").text(ai_admin.download_error)}));
a("#adsense-load-all").click(function(){a(this).parent().find(".checkbox-icon").toggleClass("on");R(!1)});a("#adsense-list-search").keyup(function(b){adsense_search_reload||(adsense_search_reload=!0,setTimeout(function(){R(!1)},200))});a("#adsense-reload").click(function(){a(this).parent().find(".checkbox-icon").addClass("on");setTimeout(function(){R(!0)},200)});a("#clear-adsense-authorization").click(function(){a("#adsense-list-data").text(ai_admin.updating);ia("")});a(".ai-block-code-demo").change(function(){za()}).on("input",
function(b){za()});setTimeout(function(){ua("")},1E3);a("#license-key").dblclick(function(){a("#hide-key").toggle()});a("input[title], button[title],  label[title], h2[title], li[title], td[title], select[title], div[title], span[title]").tooltip({track:!0,delay:700,showURL:!1,showBody:" | ",fade:250});debug&&console.log("");debug&&console.log("READY END");debug&&(C=(new Date).getTime(),console.log("main time: "+((C-Ba)/1E3).toFixed(3)));a("#ads-txt-virtual").click(function(){function b(){var e=a("#ads-txt-virtual");
e.removeClass("violet");e.attr("title",e.attr("title-physical")).tooltip({track:!0,delay:700,showURL:!1,showBody:" | ",fade:250});setTimeout(function(){O()},50)}var d=a("#ads-txt-editor").hasClass("editor")?"text":"table",f=a("#ads-txt-virtual");if(f.hasClass("violet")){f=ai_admin.switch_to_physical_ads_txt;var c=a("#ads-txt-data").find("textarea#ads-txt-text").val();0!=a("#ads-txt-missing").length||"table"!=d&&""==c?b():a("<div />").html(f).attr("title",ai_admin.warning).dialog({bgiframe:!0,draggable:!1,
resizable:!1,modal:!0,height:"auto",width:400,position:{my:"center",at:"center",of:"#ads-txt-container"},buttons:[{text:ai_admin["switch"],click:function(){a(this).dialog("close");b()}},{text:ai_admin.cancel,click:function(){a(this).dialog("close")}}]})}else f.addClass("violet"),f.attr("title",f.attr("title-virtual")).tooltip({track:!0,delay:700,showURL:!1,showBody:" | ",fade:250}),setTimeout(function(){O()},50)});a("#ads-txt-reload").click(function(){var b=a("#ads-txt-editor");b.hasClass("editor")&&
b.removeClass("editor");setTimeout(function(){O()},50)});a("#ads-txt-editor").click(function(){a(this).hasClass("editor")?setTimeout(function(){Va(!0)},50):(a(this).addClass("editor"),setTimeout(function(){O()},50),a(this).attr("title",a(this).attr("title-table")).tooltip({track:!0,delay:700,showURL:!1,showBody:" | ",fade:250}))});a("#ads-txt-search").keyup(function(b){ads_txt_reload||(ads_txt_reload=!0,setTimeout(function(){O()},200))});a(".ai-public-controls").dblclick(function(){a(this).toggleClass("on")});
a(".public-report-button").click(function(){var b=JSON.parse(a(this).attr("report-data")),d=b[0],f=b[1],c=a(this).parent().parent().parent().parent().find(".ai-public-controls").hasClass("on")?"1":"0",e=a(this).parent().parent().parent().parent().find(".custom-range-controls").attr("range-name");b=f+c+b[2]+e;f=b64e(b).replaceAll("+",".").replaceAll("/","_").replaceAll("=","-");d=d+md5(b).substring(0,2)+f;window.open(d,"ai-report")});a("#ai-list-data").hasClass("ai-sticky")&&xa();a("#ai-cancel-websites").click(function(){a("#ai-cancel-websites").hide();
a("#ai-save-websites").hide();a("#ai-rearrange-websites").removeClass("blue");J()});a("#ai-add-website").click(function(){a("#ai-cancel-websites").hide();a("#ai-save-websites").hide();a("#ai-rearrange-websites").removeClass("blue");ai_reload_websites_function=function(){a("#ai-website-list-table tr.ai-website-list").last().find(".ai-website-labels.ai-website-desc").click()};J("&add=")});a("#ai-save-websites").click(function(){var b=a(this).attr("data-connect");"undefined"!==typeof b&&!1!==b?(a(this).removeAttr("data-connect"),
b="&connect="+b):b="";a("#ai-website-list-table tr.ai-website-list").each(function(){var f=a(this);f.find(".ai-website-editor .ai-website-key").is(":visible")&&(f.find(".ai-website-editor .ai-website-key").attr("data-key",f.find(".ai-website-editor .ai-website-key").val()),f.find(".ai-website-labels.ai-website-desc").text(f.find(".ai-website-editor .ai-website-desc").val()),f.find(".ai-website-labels.ai-website-url").text(f.find(".ai-website-editor .ai-website-url").val()),f.find(".ai-website-labels").show(),
f.find(".ai-website-editor").hide())});var d=[];a("#ai-website-list-table tr.ai-website-list").each(function(){var f=a(this),c=f.find(".ai-website-labels.ai-website-url").text().trim(),e=f.find(".ai-website-labels.ai-website-desc").text().trim();f=f.find(".ai-website-editor .ai-website-key").attr("data-key").trim();""!=c&&d.push({url:c,name:e,key:b64e(f)})});a("#ai-cancel-websites").hide();a("#ai-save-websites").hide();a("#ai-rearrange-websites").removeClass("blue");J("&save="+b64e(JSON.stringify(d))+
b)});a("#ai-rearrange-websites").click(function(){a(this).toggleClass("blue");var b=a("#ai-website-data");a(this).hasClass("blue")?(a("#ai-website-list-table .ai-delete-website").each(function(){a(this).closest("tr.ai-website-list").find(".ai-connect-website .checkbox-icon").hasClass("on")||a(this).show()}),b.find("tbody").sortable({start:function(d,f){a("#ai-cancel-websites").show();a("#ai-save-websites").show()},placeholder:"ui-state-highlight"}).css("cursor","move")):(b.find("tbody").sortable("disable"),
J())});a(".ai-managing").length&&(setTimeout(function(){window.location.href=ai_settings},18E5),check_managing_slave(),a("#ai-connected").click(function(){a(this).css("color","#ababab");a("#ai-loading").show();ai_reload_websites_function=function(){0==a("#ai-website-data .ai-ajax-error").length&&(window.location.href=ai_settings)};J("&connect=")}))});
