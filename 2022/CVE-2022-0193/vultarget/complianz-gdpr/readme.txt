=== Complianz - GDPR/CCPA Cookie Consent ===
Contributors: RogierLankhorst, aahulsebos, leonwimmenhoeve, paapst, markwolters, tomeijkelenkamp, hesseldejong, mujuonly, xantek, pierrotevrard, samu-dn, jarnovos
Donate link: https://paypal.me/complianz
Tags: GDPR, Cookie, Cookie Notice, DSGVO, CCPA, Consent, RGPD, LGPD, Privacy, PIPEDA, Cookie Policy, Opt-in
Requires at least: 4.9
License: GPL2
Requires PHP: 5.6
Tested up to: 5.8
Stable tag: 5.5.3

Configure your Cookie Notice, Cookie Consent and Cookie Policy with our Wizard and Cookie Scan. Supports GDPR, DSGVO, LGPD, POPIA, RGPD, CCPA and PIPEDA.

== Description ==
Complianz is a GDPR/CCPA Cookie Consent plugin that supports GDPR, ePrivacy, DSGVO, LGPD, POPIA, APA, RGPD, CCPA and PIPEDA with a conditional Cookie Notice and customized Cookie Policy based on the results of the built-in Cookie Scan.

https://www.youtube.com/watch?v=JJzOzNAd5Bw&ab_channel=ReallySimplePlugins

== Features ==
* Configure a Cookie Notice for your specific region: European Union, United Kingdom, United States, Australia, South Africa, Brazil or Canada. Or use one Cookie Notice worldwide.
* Configure specific cookie consent per subregion, for example: European Union + DSGVO/CNIL or USA + CCPA.
* Cookie Consent and Conditional Cookie Notice with Custom CSS and Customizable Templates.
* Banner Templates include: GDPR-friendly Cookie Wall - Accept/Dismiss - Category Based Consent
* Banner Templates CA/US/AU also include; Dismiss on scroll, time on page or both.
* Proof of Consent; user consent registration that respects the GDPR data minimization guideline.

* Automatically detects if you need a Cookie Notice (also called a Cookie Banner or Pop-Up).
* Periodical Cookie Scan for changes in Cookies, Plugins and 3rd Party services. 
* Detected Cookie Data is prefilled from cookiedatabase.org, with clear and transparent cookie descriptions, which are continuously updated.
* A Cookie Policy; Generated by you with an easy wizard, drafted by an IT Law Firm.
* Do Not Sell My Personal Information: DNSMPI Page for CCPA - if required.
* Terms and Conditions are available in a separate plugin: [Complianz – Terms and Conditions](https://wordpress.org/plugins/complianz-terms-conditions/)
* Integrated with WordPress Privacy features. Export and erase personal data from our dashboard.

* Implementation of Google Tag Manager, Google Analytics, Matomo, Clicky, Yandex etc.
* Categorize your Cookies with Tag Manager or our own Script Center, if needed.
* Automatically anonymizes IP-addresses for Google Analytics if needed.
* Integration with the [WP Consent API](https://wpconsentapi.org/)
* Blocks 3rd party cookies like Google Maps, Facebook, Instagram, AdSense, Hubspot, Recaptcha, Twitter, ActiveCampaign, and more.
* Blocks iFrames, like YouTube, Vimeo, Dailymotion embedded videos and Social iFrames e.g. Instagram, Facebook et al.
* Shows placeholders for blocked iFrames. Stills from videos and individual placeholders per (social) service.

* Integrates seamlessly with Gutenberg, Elementor, Divi, Forminator, WPBakery, Monsterinsights, GADWP, Beehive, WPForms, Gravity Forms, HappyForms, Contact Form 7 <5.4 (CF7), Woocommerce, Easy Digital Downloads, WP Google Maps, Google Maps Widget, CAOS | Host Google Analytics Locally and other popular plugins.
* Tested with popular themes en page builders.
* Gutenberg Blocks enabled.
* Cookie Banners and Legal Documents conform to WCAG 2.1 AA Accessibility Guidelines.
* Ready for GDPR, AVG, RGPD, LGPD, DSGVO, CNIL, PECR, UK DPA, UK GDPR, CCPA, COPPA, PIPEDA, CASL, POPIA, Privacy Act 1988, Australian Privacy Principles, The “Marco Civil” and the Brazilian General Data Protection Law
* We closely follow the latest developments in the ePrivacy regulation, the proposed Cookie Law for the European Union, and other legislation world-wide.

= Love Complianz? =
If you enjoy this plugin and you want your site to have the best compliancy features, consider purchasing the [premium version](https://complianz.io/pricing), also available for multisite users.

== Premium features ==
* Simultaneously select USA, CA, UK, AU, ZA, BR and EU as target regions with conditional Consent and dedicated Cookie Banners.
* Geo IP Cookie Consent: Cookie Consent is different everywhere. Show the correct Cookie Notice based on IP location, but only if a banner is needed.
* Records of Consent: Keep record of your consent management changes and user's consent registration.
* A/B testing: see how many visitors accept, decline, or don't need a cookie notice at all.
* Improve conversion with A/B Testing: which cookie banner has the best consent ratio? Run tests and measure what works best for your site.
* Integration with TCF v2.0. An IAB Europe Consent Framework for Publishers. Registered CMP ID: 332
* Respects the Do Not Track settings in end-users browsers.
* Privacy statements (EU, CA, UK, AU, ZA, BR & USA). 
* Cookie policy (EU, UK, CA, AU, ZA, BR & US). 
* Impressum (Germany & Austria). 
* Disclaimer. 
* Processing agreements (EU, UK, CA, AU, ZA, BR & US). 
* Dataleak reporting tools (EU, UK, CA, AU, ZA, BR & US). 
* Supports CCPA Consent and Legal documents.
* COPPA ready with Children's Privacy Policy (US)
* Children's Privacy Policy (UK,CA & AU)
* Support for UK-GDPR / PECR and ICO Guidelines - United Kingdom.
* Support for PIPEDA and CASL - Canada.
* Support for Privacy Act 1988 & Australian Privacy Principles
* Support for POPIA, the South African Protection of Personal Information Act
* Supports The “Marco Civil” and the Brazilian General Data Protection Law (LGPD)
* Multilanguage support for the cookie notice and legal documents.
* 10 Default languages. English, German, Dutch, French, Italian, Spanish, Norwegian, Greek, Portuguese, and Czech. Formal and Informal if available.
* Premium Support from our amazing team.
* Premium Updates, new languages, features, regions and more to create the Ultimate Privacy Suite for WordPress.

Check out other plugins developed by Really Simple Plugins as well: [Really Simple SSL](https://wordpress.org/plugins/really-simple-ssl/)

Complianz is on [GitHub](https://github.com/Really-Simple-Plugins/complianz-gdpr) as well!

IMPORTANT! Complianz | GDPR/CCPA Cookie Consent can help you meet compliance requirements, but the user must ensure that all requirements are met.
Complianz needs to connect with Cookiedatabase.org to collect and synchronize with the most recent descriptions for cookies and related services. This will ensure that your cookiepolicy always contains the most up to date cookiedescriptions. Cookiedatabase.org is being operated by Complianz BV and the offered service can be used for free within our plugin under the following [Terms of Use](https://creativecommons.org/licenses/by-nc-nd/4.0/).

[Contact](https://complianz.io/support/) us if you have any questions, issues, or suggestions. Complianz | GDPR/CCPA Cookie Consent is developed by [Complianz B.V.](https://complianz.io).

= Installation =
* Go to “plugins” in your Wordpress Dashboard, and click “add new”.
* Click “upload”, and select the downloaded zip file.
* Activate.
* Navigate to “Complianz”, and follow the instructions.

== Frequently asked questions ==
= Knowledgebase =
Complianz maintains a continuously growing knowledgebase about GDPR, including subregions e.g. DSGVO and CNIL, CCPA, PIPEDA, COPPA, POPIA & other specific laws on [complianz.io](https://complianz.io)

= Is my website GDPR, COPPA, CCPA, DSGVO, AVG, CNIL, UK-GDPR, PECR, CASL, LGPD, POPIA and/or PIPEDA compliant with this plugin? =
We cannot guarantee compliance for your website. A correct configuration of this plugin by a website administrator is always required. 
= When do I need a Cookie Notice? =
Complianz | GDPR/CCPA Cookie Consent will determine this automatically based on the laws of the region or regions, where most of your visitors come from. 
Regarding CCPA, you always have to show which cookies you are using but there's no obligation in asking consent.
= Do I always need a consent checkbox on contact forms? =
Not always. The Complianz Privacy Suite Premium plugin can determine if you need this, based on your answers in the wizard. It mainly depends on the type of information and the reason why your visitor use the contact form.
= What is the GDPR? =
The GDPR is a regulation within the EU law on privacy and data protection for any citizen within the EU and European Economic Area. It aims primarily on giving control to individuals over their personal data. The GDPR also addresses the export of personal data outside the EU.
= What is the CCPA? =
The CCPA (Californian Privacy Act) is a law set up by the Californian government. The law is adjudged to be one of the toughest and farthest-reaching consumer privacy laws in the US. It is mostly focused on giving insights on what personal data business gather and how to protect and control these personal data.
= What is COPPA? =
The Children’s Online Privacy Protection Act (COPPA) is a law designed to protect the online privacy of children under 13. It was set up in the 1990's and states that website owners have to meet certain requirements regarding visitors with the age under 13.
= What are PECR & UK-GDPR? =
PECR (UK) covers the use of cookies and similar technologies for storing information and accessing information stored, on a user’s equipment such as a computer or mobile device.
= What are the Privacy Act 1988 & Australian Privacy Principles =
To comply with the Australian privacy laws a website operator should present a cookie policy and/or a privacy notice before or, if that is not practicable, as soon as practicable after, your website collects personal information about an individual.
= What are PIPEDA & CASL? =
Canada’s Anti-Spam Legislation (CASL) and Personal Information Protection and Electronic Documents Act (PIPEDA) require a website operator to obtain consent, either implied or express consent with a dedicated cookie statement.
= What POPIA (POPI Act)? =
POPIA is the acronym for the South African PROTECTION OF PERSONAL INFORMATION ACT. Similar to the GDPR, the UK-GDPR, and the Brasilian LGPD, it promotes the protection of personal information processed by public and private bodies, regulates the cross-border flow of personal information, and outlines the rights of data subjects.
= What are “Marco Civil” and the Brazilian General Data Protection Law (LGPD)? =
The Brazilian General Data Protection Law is similar to the GDPR, the UK-GDPR it promotes the protection of personal information processed by public and private bodies,bregulates the cross-border flow of personal information, and outlines the rights of data subjects. The Marco Civil is the Brazilian name of the Brazilian Civil Rights Framework for the Internet a counterpart to European's "ePrivacy", although not similar.
= Can I create a Cookie Wall with this plugin? =
With some custom CSS this is possible, but we do not consider a cookie wall to be GDPR compliant, so it's not actively supported. We do, however, have the option to create a Soft Cookie Wall. Which blocks interaction with the website, but dismissing remains a possibility.

== Change log ==
= 5.5.3 =
* Improvement: code preparation for 6.0 

= 5.5.2 =
* Fix: regex pattern in placeholder code should allow for linebreaks props @ajoah
* Fix: on multisite, when the settings "set cookies on root" is used, the rt prefix should not be used.
* Fix: duplicate word "telephone" in Impressum/Imprint
* Fix: load google analytics also when banner is not required

= 5.5.1 =
* Fix: auto update disabled for other plugins

= 5.5.0 =
* New: Placeholder themes and customization options
* New: Google Consent Mode for Google Tag Manager and GTAG.js
* Improvement: Animate task dismissal
* Improvement: Cookiedatabase optin to optout
* Improvement: prepare update notice for 6.0
* Improvement: new filter 'cmplz_cookiescan_post_types' for posttypes in cookiescan
* Improvement: sharing of data section from different regions merged
* Improvement: line break in legal documents after publish/checked date
* Fix: Terms & Conditions recommendation not showing
* Fix: automatic redirect to English for native English docs

= 5.4.0 =
* New: Brazil
* New: WP Store locator maps integration
* Improvement: some string changes
* Improvement: save feedback
* New: WCAG option on the admin
* New: cmplz_choice cookie also available without a/b testing or records of consent
* Fix: restore youtube-nocookie url to be recognized as URL for YouTube placeholders
* Fix: allow marketing cookies on accept deny, props @klous-1

= 5.3.0.1 =
* Fix: anonymizeip double quote in gtag.js

= 5.3.0 =
* Improvement: textual changes in cookie policy
* Improvement: save selected setting in localstorage for dropdowns in dashboard
* Improvement: change retention into expiration
* Improvement: better privacy policy link description for Complianz
* Improvement: privacy friendly analytics feedback in DE
* Improvement: samesite and secure cookies for Google Analytics and gtag.js
* Improvement: daily check for free translation files, and admin notice if free is not deleted
* Improvement: notice about conflicting cookie banner plugins
* Improvement: append banner to end of body element, to improve LCP
* Improvement: linkedin placeholder
* Fix: no integration notice when WP Google Maps active
* Fix: GTM categories not included in A/B tests
* Fix: extend core WP privacy annex
* Improvement: correct Elementor css causing styling issues on Complianz pages.
* New: Imprint
* Fix: initialize the __tcfapi() and postmessage functionality
* Improvement: several changes to the way TCF is handled
* Improvement: do not autoload class with class_exists check in cmplz_uses_gutenberg() function props @knomepasi
* New: Meks Easy Maps
* Fix: keep cookie and service lists in sync across languages when new languages are added.
* Fix: on the root website of a multisite setup accept all did not enable statistics
* New: Avada integration

= 5.2.6 =
* Fix: Sync services in multilanguage environment
* Improvement: prevent naming conflicts with custom posttypes when region redirecting by adding a prefix
* Fix: consent area required a cookiename change on multisite environments because of rt_ cookie prefix

= 5.2.5 =
* Fix: placeholder detection used wrong key, resulting in default placeholder

= 5.2.4 =
* Fix: svn not picking up new version in tags folder

= 5.2.3 =
* Fix: text domain correction
* Fix: min-width upload button
* Fix: in subdirectory installations, the find_wordpress_basepath function could not find the wp installation, props @ianpegg
* Improvement: re-structured services detection
* Improvement: drop TGM integration
* Improvement: flags for multiple regions
* TCF/IAB: some changes to keep the banner and cookie policy compliant with the IAB requirements
* Improvement: enable auto updates

= 5.2.2 =
* Fix: When choosing anonymous statistics from a not supported statistics type, the wizard forced configuration by Complianz.

= 5.2.1 =
* Fix: arguments error in notice

= 5.2.0 =
* New: TikTok integration
* New: South Africa POPIA support
* Fix: On multisite, root/main site cookies get different prefix, to prevent browser from getting confused about cookies on root and subpaths.
* Fix: Monsterinsights integration causing two pageviews
* Fix: Restore ajax loaded content blocker option, which was not following the setting's input
* Improvement: reset padding bottom for iframes during blocked status where responsiveness is handled with a padding-bottom 56%.
* Improvement: Detect Google Maps integration, and show notice about possible solution
* Improvement: Disable ACF integration when any of the other Google Maps integrations is detected

= 5.1.0 =
* Fix: allow for German Ringel S in Google Maps addresses
* New: Privacy Act 1988 Australia
* Fix: miscelaneous cookies without information in another language defaulted to the wrong translation
* Improvement: changed "Analytical" to "statistical".
* Fix: terminology in US/CA documents "to citizens and legal permanent residents of" instead of "to citizens of"
* Fix: explicitly ask consent in some EU regions question restored
* New: Pixel your Site Pro - and Add-ons
* Fix: Sensitive data question conditions under Security & Consent

= 5.0.3 =
* Improvement: new purposes for EU/UK
* Improvement: switch consent area order in cookie policies
* Fix: Elementor integration after reload
* New: Variation swatches for Woocommerce integration
* Improvement: show "hide cookie banner" metabox only on public post types

= 5.0.2 =
* Improvement: switch consent area in cookie policies
* Fix: Elementor integration after reload
* New: Variation swatches for Woocommerce integration

= 5.0.1 =
* Fix: Exclude RSS feed from cookie blocker.
* CSS: save button to primary on license
* Improvement: tips & tricks not translatable
* Fix: CSS styles for cookies shortcode
* Fix: since 5.0 UK could not set the categories type separately
* Fix: preview of categories automatically hidden after timeout
* Fix: upgrade integrations notices to 5.0 style
* Improvement: when cookie banner isn't necessary, show "open" notice instead of "completed"
* Fix: on duplicate cookies cleanup, do not delete cookies when from different services
* Fix: Processing field for 'other' option, linked textfield wasn't shown when selected
* Fix: feedback on settings saved responsive and multilanguage proof
* Improvement: change varchar fields in cookiebanner table to text, to preven max rowsize warnings on some installations.

= 5.0.0 =
* New: Animations/Customizations for the Cookie Banner
* New: Integrations for 10+ plugins and services
* Improvement: User Interface
* Improvement: WCAG on policies
* Improvement: Adjustments for CNIL Guidelines
* Improvement: Elementor integration improved
* Improvement: Integration with Terms & Conditions

= 4.9.12 =
* Legal: ending delimiter in clicky recognition regex

= 4.9.11 =
* Legal: Do Not Sell My Personal information form moved up to top of policy in accordance with recent changes
* Fix: Elementor integration firing init, causing issues with hamburger menu
* New: Clicky integration
* New: feedback for AMP/no javascript
* Fix: lanuage when requesting over rest-api with polylang

= 4.9.10 =
* New: Novo Maps integration
* Improvement: pinterest blocklist extended
* Fix: not 100% in wizard because of CF7 notification, even when not applicable.

= 4.9.9 =
* Improvement: only show CF7 notice when recaptcha is active

= 4.9.8 =
* Improvement: Events Calendar integration
* Drop Contact Form 7 integration as of CF7 5.4, due to continuous breaking changes in CF7. Contact Form 7 should integrate with the WP Consent API instead.

= 4.9.7 =
* Improvement: cookie policy overview css for mobile
* Fix: Youtube in Elementor widget after Elementor update not blocking anymore

= 4.9.6 =
* Fix: Revoke on cookie policy with accept/deny banner
* Improvement: do not re-run marketing after consent
* Improvement: clear cookies after cookie policy id change. Resolves issues for WPML users with cookiepath issues
* Improvement: activate blocked images on consent
* Fix: prevent infinite loop in Canada region with certain configurations
* Improvement: limit number of requests by jquery error detection
* Improvement: Advanced Captcha reCaptcha updated to integrate with latest version
* Improvement: improved URL pattern in URL input field
* Improvement: changed Advanced Custom Fields detection from ACF to ACF_VERSION, as it seems another plugin or theme is using this same function/constant/class
* Improvement: improved method of keeping track of blocked content containers that were already set up, or activated.
* Improvement: TranslatePress compatibility
* Improvement: allow for space in Google Maps iframe embed URL
* Improvement: stricter matching for WooCommerce Google Analytics pro and WooCommerce Google Analytics Integration, preventing matching on other scripts

= 4.9.5 =
* JetPack integration
* Fix: disabling of integrations not working properly after theme support was added.
* Fix: short code for custom consent area not activating due to changes in the jquery events props samu-d.

= 4.9.4 =
* Fix: when configured with accept/deny, accept on blocked content container not working

= 4.9.3 =
* Fix: not storing consent correctly because the no_choice option was included in the categories list

= 4.9.2 =
* Improvement: Fn.resize shorthand is deprecated
* Improvement: pass language to ajax calls with two character language code
* New: Woocommerce Analytics Pro integration
* New: Citadela Directory integration
* Improvement: when new languages are added to a site (multilanguage setup) ensure each cookie is added in every new language
* Fix: on multisite environments cookies were set on language subdomains instead of root. This fix sets cookiepath to root for WPML and polylang

= 4.9.1 =
* Fix: on websites with wordpress installed in subdirectory, cookiepath was set incorrectly.

= 4.9.0 =
* Fix: use get_rest_url() instead of site_url for rest api calls
* WCAG: Do Not Sell My Personal information form WCAG improvements
* WCAG: fix button accessibility and div for Contact Form 7. props @juliemoynat-tanaguru
* Improvement: set default checkbox style to slider
* Improvement: Recaptcha v2 for CF7 CSS for better placeholder look
* WCAG: fix category checkbox square accessibility. props @juliemoynat-tanaguru
* New: support for plugin "Invisible recaptcha for WordPress"
* New: option to disable monthly automatic cookie scan
* New: Volocation integration
* New: Set cookie path based on site url. This allows for sites in subfolders to place cookies on the subfolder URL only
* Fix: typo in css class
* New: Gravity Forms recaptcha integration
* New: Advanced noCaptcha & invisible captcha integration
* New: Added status change event to be able to hook into consent actions from the user. E.g. a reload on consent action for plugins with server side consent management.
* New: MonsterInsights Enhanced ECommerce integration
* New: Generate Press theme integration
* Fix: Resource interpreted as Document but transferred with MIME type. Due to browsers expecting a html document as source, using mp4 as src placeholder caused unexpected behaviour.
* Fix: duplicate statistics tracking on anonymous statistics accept action fix not merged correctly in previous update
* Improvement: new method of ip detection added
* Fix: some strings for Canadian policies not translatable
* Fix: revoke marketing cookies if statistics still enabled, on configurations with non anonymous statistics
* Improvement: more context for email on updating legal documents each 12 months in US configurations props @gfields108
* Improvement: resolve jQuery Migrate notice "Global events are undocumented and deprecated" props @m266
* Improvement: change front-end admin-ajax.php calls into rest-api calls
* Improvement: Visual Composer front end editing exclude from the Cookie Blocker
* Improvement: PHP 8 compatibility
* New: Woocommerce analytics integration (free)

= 4.8.2 =
* Improvement: possibility to add both a marketing and an advertising cookies section
* Fix: prevent double firing of analytics icw native class on accept #926
* Improvement: analytics script in script center when running analytics from Complianz

= 4.8.1 =
* Fix: Shares data test returning false positive because of inverted script center script condition, props Michael
* Fix: Tag Manager script was incorrectly added when Google Tag Manager for WordPress plugin was used, props @imkane
* Fix: PHP warning when classes to insert contain two spaces. props @jadorwin
* Improvement: Revoke cookie consent string changed into Manage Consent
* Improvement: add Post Status for legal documents
* Improvement: remove quotes in WP Google Maps string to prevent German quotes issues
* Improvement: jquery error detection, skip error on line 0 as false positive, prevent overwriting error
* New: Nudgify integration
* New: you can now disable the cookieblocker by adding ?cmplz_safe_mode=1 to the URL

= 4.8.0 =
* Improvement: include stats when in safe mode
* Improvement: CSS style for invisible checkboxes to make them readable by screen readers. props @juliemoynat-tanaguru
* Improvement: Trust Pulse integration
* Fix: boolean comparison on 1 value for geo ip detection in javascript, causing the plugin to do an unnecessary call to the server.
* Fix: custom statistics script blocking
* Fix: allow for matching on relative URL's for script sources, props @onwk
* Improvement: skip translation of cookie properties when Polylang is enabled, as Polylang can't handle different fieldname contexts
* Improvement: banner bottom edgeless theme responsiveness, props @tim
* Improvement: Podcast Player integration, props @vedathemes, @uiuiui7
* Improvement: consent mode Google
* Fix: Disable cookieblocker on AMP when AMP integration not enabled, props @jensminor
* Fix: ony one ID for the cookie policy overview div, props @frown
* Improvement: maximize cookie name length, to prevent display issues
* Fix: typo in text domain
* Fix: "Usage" translated with _x function with wrong arguments

= 4.7.6 =
* Fix: pass new cookies overview css also when only the cookies shortcode is used
* Fix: saving of plugin integration settings, props Laura
* Fix: proof of consent showing cookie information in white because of display hidden css style, props @ollieuk
* Improvement: some themes overriding the white-space:normal for the blocked content button
* Improvement: don't show "hide cookie banner option when no slug is available
* Improvement: compatibility with native browser lazyload option loading="lazy"

= 4.7.5 =
* Improvement: force display none on video placeholder for themes that are overriding the display none
* Improvement: cookie list responsive and better compact design
* improvement: responsiveness for banner bottom with square category checkboxes
* Fix: statistics paragraph EU/UK cookie policy not taking into account consent differences for statistical cookies
* Fix: advertising section incorrectly in cookie policy showing when no ads are showing
* Improvement: WCAG for blocked content notice: changed clickable div into button

= 4.7.4 =
* Improvement: don't enqueue document css in Gutenberg editor when disabled
* Improvement: no cookie wall on cookie policy
* Improvement: stricter instagram detection, preventing false positives on hyperlinks
* Fix: safe data before loading fields, which could cause conditions not to be updated yet on next pageload
* Fix: set default for personalized ads, to prevent unfocusable document control
* Fix: pass language as parameter with ajax calls, to ensure WPML and polylang translation

= 4.7.3 =
* CF 7 reCaptcha v2 fix
* Increase conditional jquery priority to limit chances of deregistering afterwards.
* Extend safe mode with script center features

= 4.7.2 =
* Improvement: add option to flag first party marketing cookies with an integration.
* Improvement: set tabindex to 0 for banner controls.
* Improvement: limit access to hide banner option to users with manage_privacy capability.
* Fix: Do Not Track signal not passed correctly when caching enabled.
* Fix: legacy revoke button in US.
* Fix: on configurations without marketing cookies "save preferences" was not functioning properly.
* Fix: max banner width was implemented with min-width.
* Fix: remove clearing cookies. Would cause issues when logged-in.

= 4.7.1 =
* Improvement: add option to exclude cookie banner from a page
* Improvement: keyboard accessibility of square and slider checkboxes on the banner for WCAG2
* Improvement: when no marketing categories are present, don't show the marketing category on the banner
* Improvement: consent area shortcode caching proof
* Improvement: only accept marketing on placeholder accept
* Improvement: drop obsolete setting cookie_warning_enabled
* Improvement: rename cookieconfig.js to complianz.js to prevent unnecessary blocking by all in one wp security
* Improvement: better adjusting to long button texts in the banner
* Improvement: add data-nosnippet to banner div to discourage indexing by search engines
* Improvement: separate question to explicitly let users choose to block recaptcha
* Improvement: google site kit notification
* Improvements on the consent area shortcode implementation
* Fix: accept deny banner variation did not revoke anymore after accepting, then revoking.
* Fix: CAOS integration not working anymore
* Fix: edited some typos
* Fix: legacy revoke button in opt out regions, revoking in manage consent tab in opt out regions

= 4.7.0 =
* Improvement: WCAG 2 compatibility
* Improvement: WP 5.5 permissions callback default true for public rest api calls
* New: Calendly integration
* New: Consent Shortcode to wrap your content manually [cmplz-consent-area][/cmplz-consent-area]
* Improvement: string update
* Improvement: proof of consent remove unnecessary info
* Improvement: improved activation notice
* Improvement: added Gutenberg preview image
* Improvement: improved Google Maps placeholders
* Fix: placeholders update
* Fix: static Google Maps images integration not working correctly due to regex pattern
* Fix: AMP matching on facebook and facebook-like tag
* Fix: Google Ads integration could not be disabled
* Fix: cookiedomain feature could cause indexOf undefined error in specific congfigurations
* NPM package updates
* Fix: Canada getting incorrect privacy statement URL on banner
* Fix: Vimeo sunset of simple API v2, requiring update of placeholder/thumbnail download

= 4.6.10 =
* Google Maps easy integration added
* Split last cookie sync into separate ajax call for better performance
* Fix: prevent page reload when user chooses functional only in category banner, when no other category has been selected.

= 4.6.9 =
* Fix: an option was not checked correctly, causing cookies not to get set on some configurations

= 4.6.8 =
* Fix: run upgrade for banner width to prevent saving issues because bannerwidth still has odd number of pixels
* Fix: correctly load defaults so the banner has a fallback if the impressum title is not yet entered.
* Improvement: Syncing or adding used services won't enable integrations

= 4.6.7 =
* Fix: correctly load defaults so the banner has a fallback if the impressum title is not yet entered.

= 4.6.6 =
* Improvement: read more link on double analytics implementation
* Fix: string "obsolete page" not translatable
* improvement: impressum title in cookie banner editable

= 4.6.5 =
* Improvement: remove "we do not use ... " statements from cookie policy
* Improvement: facebook for woocommerce integration
* Improvement: support for cross domain cookie consent on multisite
* Improvement: add noreferrer, noopener attributes to links on cookie policy
* Improvement: fix issue where Chrome bug causes blurred banner on uneven width sizes
* Improvement: fix broken Contact Form 7 integrations because of continuous changes to CF7

= 4.6.4 =
* New: Async script center option
* Fix: prevent CSS theme override in some themes on square checkbox
* Fix: prevent warning about rest-api by removing slash
* Fix: marketing level not firing correctly with Tag Manager
* Fix: when Do Not Sell My Personal Information is added, wrong link was highlighted as "upgrade" link
* Improvement: default banner width larger

= 4.6.3 =
* Fix: Tag Manager event not firing in new style checkboxes
* Improvement: catch error when uploads dir is not writable, for pdf creation
* Fix: Correctly replace banner labels in policy
* Fix: after 4.6.0 update script-center custom scripts not firing after consent
* Improvement: Simple Business Directory
* Improvement: dismiss soft cookie wall for categories below marketing
* Fix: manage consent paragraph not in correct paragraph for UK policy
* Improvement: additional css to prevent theme override of classic checkbox css
* Fix: don't force banner width on top, bottom and fixed banners

= 4.6.2 =
* Improvement: Dismiss review notice with GET to prevent issues with dismissing
* Improvement: Facebook / Twitter Smash Balloon integration added
* Fix: drop blocking of PayPal as third party

= 4.6.1 =
* Fix: load ACF Maps integration only when Google Maps is enqueued
* Fix: fallback for banner settings in case upgrade to new category banners didn't run successfully
* Fix: cmplzSetCookie function called without expiration, causing a session expiration

= 4.6.0 =
* New: New Cookie banner variations with new checkbox options, accept all button, etc.
* Fix: revoke on legacy revoke button not revoking correctly
* Fix: in case of categories, paragraph text in cookie policy didn't match
* Improvement: vimeo with DNT=1 in the URL will not get blocked, as it's privacy friendly, non tracking.
* New: added Rate My Post integration
* New: added ACF (Advanced Custom Fields) integration for Google Maps
* Fix: Contact form 7 recaptcha update patch
* Improvement: regex for double statistics implementation was not specific enough

= 4.5.2 =
* Fix: setCookie function at one point in code called without expiry, causing it to get set with session expiry

= 4.5.1 =
* Fix: some themes showing double checkboxes

= 4.5.0 =
* Fix: User registration dependency
* Fix: consent management on UK policy not possible due to an incorrect condition
* Improvement: improve conditions and descriptions for selling data elements in legal documents and questions
* Improvement: jquery >3.x compatibility
* Improvement: Divi notice for Recaptcha
* Improvement: convert region array when enabling or disabling geo ip setting
* Improvement: support for retrieval of second party cookies
* Improvement: dropped deprecated wp.editor in favor of wp.blockEditor in Gutenberg block, added panelrows.
* Improvement: manage consent by category on Cookie Policy
* SSL verify enabled for license verification
* javascript sanitization https://github.com/rlankhorst/complianz-gdpr/issues/260 props pierrotevrard-idp
* Do not automatically enable a service integration after a cookiedatabase sync
* Get screencapture for youtube videoseries
* Catch not existing src in iframe in cmplzGetURLParam()
* Improvement: for the geo ip document redirect, redirect the "other" region to website's base region
* Fix: possible issue when custom editing the cookie policy content because of empty table cells.
* Fix: AMP plugin changed hooks, causing the integration not to work 100%
* Improvement: added AddToAny in the integrations list
* Fix: missing filter in integrations list props @orjhor
* Fix: language selector services was called 'select {language} cookies';
* Fix: correctly translate Complianz cookie retention

= 4.4.1 =
* Fix: ajax loaded content setting not applied

= 4.4.0 =
* Improvement: Add an impressum link to your cookie banner for Germany or Austria
* Improvement: pass type to Cookiedatabase: localstorage or cookie
* Fix: improve integration with WP Google Maps plugin
* Fix: template override feature from theme not working https://github.com/rlankhorst/complianz-gdpr/issues/242 props xantek
* Fix: with line breaks in iframe element, https://github.com/rlankhorst/complianz-gdpr/issues/244 props pierrotevrard
* Fix: iframe replacement issue with linebreaks https://github.com/rlankhorst/complianz-gdpr/issues/246 props pierrotevrard
* Improvement: Translatepress support

= 4.3.6 =
* Fix: OpenStreetMaps (OSM plugin) compatibility fix
* Fix: cookie blocker for ajax loaded content made conditional with a setting in the general settings
* Tweak: allow colon in URL field

= 4.3.5 =
* Fix: TGM compatibility fix
* Fix: when dismiss on scroll is used in the US in combination with the hide settings button, the settings button wasn't hidden immediately
* Fix: Improved blocked content activation on ajax loaded content

= 4.3.4 =
* Fix: Mailchimp for CF7 compatibility
* Tweak: added filter to allow to manipulate script output
* Fix: embedded analytics script triggered before consent because regex didn't match the script after PHPcs changes
* Fix: condition on Cookie Policy text field caused field not to be shown when both CCPA and PIPEDA apply
* Tweak: renamed TGM library classes to prevent conflicts with incorrectly implemented TGM libary in some themes

= 4.3.3 =
* Fix: the "all" region was skipped in a region check

= 4.3.2 =
* Improvement: make pages creation an explicit user action

= 4.3.1 =
* MPDF package update
* removed divs in legal documents, in favour of p tags.
* Improved jquery activation script for iframes for smoother loading of iframe
* Improved cookie delete option: it will now archive, so won't get added again on new scan
* Improved handling of ajax loaded content in Cookie Blocker (Ultimate Member)
* Fix translation of banner items for multiple language configurations
* Fix: WPML changed index in supported languages from language_code to code

= 4.3.0 =
* New: Supports the [WP Consent API](https://wpconsentapi.org/).
* Fix: Type on legal document
* Tweak: filter to change the region dynamically

= 4.2.0 =
* New: PIPEDA support (Canada)
* Tweak: CAOS integration improved
* Tweak: added to disable placeholders per plugin/service
* Tweak: Updated WCAG to v2.1
* Tweak: moved custom recaptcha css to integrations modules
* Tweak: added introduction tour
* Fix: don't fire the cookieblocker when not needed
* Fix: allow for private Vimeo video's, props @volkmar-kantor
* Fix: use filename sanitize function instead of sanitize_title() for proof of consent files
* Fix: user region and consenttype for not enabled regions should return "other", even when the user is from a supported region
* Tweak: made aria-label in cookie notice translatable
* Fix: check if array key exists in GTM4WP integration
* Fix: check existence of table before retrieving services
* Fix: IE11 support for blocked content notice, props @volkmar-kantor
* Tweak: Improved placeholder support for Twitter embed
* Fix: removed unintentional dot before not numbered paragraphs
* Fix: custom policy URL incorrectly caused a not 100% completeness

= 4.1.5 =
* Tweak: improved signature style on processing agreements
* Fix: proof of consent link not working when website title contained an ampersand
* Fix: duplicate function name in contact form 7/G1 Maps integration, and in GADWP and GTM4WP integration

= 4.1.4 =
* Fix: Google Analytics was not blocked correctly

= 4.1.3 =
* Fix: Google Tag Manager integration
* New: Google Tag Manager 4 WP integration
* Tweak: updated default banner colors
* Tweak: improved menu order and tab order on integrations page

= 4.1.2 =
* Tweak: When consent on anonymous statistics is enabled for Germany,  Hotjar anonymous version should also require consent
* Fix: add space in "web beacon"
* Tweak: No lazy loading for WP Rocket iframes
* Tweak: offer option to show link to cookiedatabase.org for cookies and services
* Fix: database error on new install because cookies were checked before table was initialized on first activation.
* Tweak: Wp Forms recaptcha integration
* Tweak: Mappress integration
* Fix: placeholder activation for non iframes not working correctly
* Fix: typo in privacy policies
* Tweak: removed some obsolete statements in privacy policies
* Tweak: changed blocked content notice in "accept marketing cookies"
* Tweak: added OSM plugin open streetmaps support
* Fix: is_amp_endpoint function check
* Tweak: moved css to separate plugin integrations
* Tweak: JetPack twitter integration
* Tweak: improved notice when uploads folder not writable
* Tweak: improved non functional and functional cookies check
* Fix: cron was wrapped in logged in check, preventing the cron from running

= 4.1.1 =
* Fix: multiple regions not processed correctly by cmplz_has_region() function

= 4.1.0 =
* New: AMP support
* New: Force opt-in for statistics in Germany (optional)
* Tweak: Integrated with GADWP | Google Analytics for WordPress
* Fix: dismiss on timeout not working
* Fix: revoke on cookie policy when GEO ip enabled, US only
* Fix: when no region was selected, a string with empty region could appear in the dashboard.
* Tweak: dismiss the upgrade notice even when no changes are detected.
* Tweak: improved review notice
* Tweak: higher treshold for dashboard notifications
* Tweak: remove "unknown privacy link"
* Tweak: no need to opt in to cookiedatabase.org when no cookies
* Tweak: dedicated shortcode [cmplz-cookies] to enable users to inlude the cookies list only
* Tweak: adjusted accept all cookies notice in blocked content notice
* Tweak: improve activation of video scripts for smoother experience
* Tweak: drop notification on plugin updates. This function is already handled by the "new cookies" feature
* Tweak: removed double occurence of disqus
* Tweak: added dot behind every paragraph
* Tweak: improve region explanation to avoid confusion
* Tweak: added remove data on uninstall option
* Tweak: extend regex for iframe URL's to support brackets in URL's

= 4.0.5 =
* Improvement: added reset for cookie scan clearing all cookies
* Fix: added string for translation (Blocked content text)

= 4.0.4 =
* Improvement: opt-in to cookiedatabase.org

= 4.0.3 =
Fix: cookiedatabase sync not synchronizing third-party services in multilingual environments
Improvement: improved error messages for sync

= 4.0.2 =
Fix: UK and US policies still used old cookie descriptions

= 4.0.1 =
Fix: banner saving when UK and EU both use categories

= 4.0.0 =
* Improvement: separate consenttype for UK
* Improvement: cookie information retrieved from cookiedatabase.org

= 3.2.3 =
* Fix: missing retain data statement in privacy policy
* Fix: missing translation strings
* Fix: not registering strings from cookie translation for multilanguage environments
* Fix: changed placeholder.html in blocked iframe source to "about:blank"

= 3.2.2 =
* Improvement: added option to unlink and customize the legal documents
* Improvement: structure improvements to integrations code
* Fix: UK Cookie Policy URL not added to cookie notice
* Improvement: added integration for GEO My WP members list
* Improvement: added Forminator integration

= 3.2.1 =
* Fix: language forcing en_US

= 3.2.0 =
* Improvement: added shortcodes to document list on dashboard page
* Improvement: do not activate cookie banner before wizard has completed
* Improvement: added banner loaded jquery hook
* Improvement: The United Kingdom is now a separate region with specific cookie consent management
* Improvement: script center is now embedded under 'Integrations'. A more flexible approach to blocking and enabling scripts, plugins and services
* Tweak: Tag Manager does not require a categorical approach of cookies
* Tweak: Feedback in dashboard has been improved when changing regions
* Tweak: Stylesheet updates

= 3.1.2 =
* Fix: remove superfluous title on proof of consent
* Fix: Contact Form 7 recaptcha dependency not fired in correct order

= 3.1.1 =
* Fix: document wrapped in double div
* Fix: PHP warning caused by empty list of proof of consent documents
* Fix: if upload directory does not have writing permissions, generating the PDF files could cause an error

= 3.1.0 =
* Improvement: proof of consent page, which works as user consent registration on settings change
* Improvement: added script dependency array, to enable scripts to fire in a certain order
* Improvement: extended placeholder support for non-iframes
* Improvement: added soft Cookie Wall

= 3.0.11 =
* Fix: version stripping second digit for upgrade check

= 3.0.10 =
* Fix: Avia front-end pagebuilder getting blocked by cookie blocker
* Fix: Lawfull => lawful
* Improvement: added custom jquery event to hook into cookie consent events
* Fix: set Google Analytics as not functional
* Fix: duplicate advertising cookies settings in US cookie policy
* Improvement: added PayPal cookies
* Improvement: added cc-revoke example
* Improvement: added helptext to explain email addresses are obfuscated
* Improvement: sanitizing of hex color in custom css
* Improvement: WP Google Maps integration
* Improvement: moved do not track me integration to filterable array
* Improvement: prevent policies from being generated when not activated in settings
* Improvement: pixelyoursite plugin support
* Improvement: notifications when cookie blocker is enabled, to make sure users understand the implications
* Improvement: dropped youronlinechoices as suggested service

= 3.0.8 =
* Improvement: add option to configure your own cookie policy URL
* Fix: creating legal document page when none is available after region switch
* Improvement: W3C validator compatibility for documents
* Fix: javascript pattern not matching correctly, causing both text/plain and text/javascript scripts.
* Improvement: recommended action on Google Fonts
* Fix: Pass font color to cc-category class
* Fix: allow for content in iframes tags in regex pattern
* Fix: hide comment checkbox when WP personal data storage for comments is disabled

= 3.0.7 =
* Tweak: remove blocking of custom Google implementations, as it is not yet possible to reactivate them

= 3.0.6 =
* Fix: new regex did not exclude cmplz-native scripts from cookie blocker

= 3.0.5 =
* Fix: saving when saved data is not an array
* Fix: prevent force category for Tag Manager after switching back to GA
* Improvement: allow for Youtube video series URL
* Fix: several improvements for US documents
* Improvement: when marketing level category is selected, statistics category should not get consent
* Improvement: not scrolling to top when accepting
* Fix: table remove on plugin deletion
* Improvement: CSS classes for Cookie Notice

= 3.0.4 =
* Fix: expiry days not passed to cookie banner

= 3.0.3 =
* Fix: add href to accept button on cookie banner
* Improvement: [cmplz-accept-link text="accept cookies"] shortcode
* Fix: Cookie policy advertising and analytical cookies settings fix
* Fix: Not saving unchecked checkbox custom document css
* Fix: Privacy statement for eu notice when using US only
* Fix: If page is deleted, stored cookiepage url could be empty
* Fix: When switching settings for advertising cookies, output might show both advertising and non-advertising paragraph
* Fix: No cookie banner mention in cookie policy when no banner is needed
* Fix: Cookie blocker was not activated when only statistics required a cookie warning
* Fix: selecting no thirdparty services or cookies could lead to double activation of statistics
* Fix: Selecting US as target region in some cases did not fire the default consent which is allowed for US privacy regulations

= 3.0.2 =
* Fix: Gravity forms checkbox not generated correctly
* Fix: Brand color not updating in cookiebanner
* Fix: US Cookie policy not showing correct purposes
* Fix: Incomplete cookie causing not reaching 100% without notice
* Fix: Enabling TM categories
* Fix: Elementor forcing lineheight of 0 in embeds

= 3.0.1 =
* Fix: hook for DB upgrade moved to an earlier one.

= 3.0.0 =
* Fix: removed Google Plus integration, as it's discontinued
* Fix: prevent saving from document URL's on autosave and revisions
* Fix: moved linkedin from script blocked list to async loaded list
* Fix: default region is now one of the selected regions in the wizard.
* Fix: when localstorage is empty, empty array could cause PHP error during cookie scan
* Fix: excluded elementor_font post_type from scan
* Fix: hyperlink in disclaimer (Dutch)
* Fix: As elementor uses the classic shortcodes in Gutenberg, an exception should be made for Elementor when inserting default pages
* Improvement: Hide nag notices from other plugins on Complianz pages.
* Improvement: Added export feature
* Improvement: Completely rewritten video blocking and placeholder code, which should reduce possible issues
* Improvement: Added HappyForms integration to enable recaptcha initialization.
* Improvement: Extended support for different types of IP detection on servers e.g. Cloudflare.
* Improvement: Moved string translation support for polylang and WPML to core
* Improvement: Added option to disable adding placeholder HTML to video's
* Improvement: Added plural for Social Media statement in Cookie Policy
* Improvement: Added exception for Non Personalized Ads in advertisement section in Wizard and in Cookie Policy
* Improvement: Added escaping to outputted javascript, all scripts moved to templates
* Improvement: Moved cookie banner settings to separate table and object
* Improvement: Limit ajax requests to a/b testing and multiple regions
* Improvement: Placeholders for Gutenberg variations with Pagebuilders and various themes.
* Improvement: Disabling placeholders if needed
* Improvement: Full compatibility with Newspaper and Adsense
* Improvement: Blocking IP Adresses for comment section. (option)
* Improvement: Variable cookie scan for high traffic websites to minimize server capacity.
* Improvement: New UI for cookie banner settings.

= 1.0.0 =

== Upgrade notice ==
* Please backup before upgrading.

== Screenshots ==
1. Complianz Dashboard: Your privacy HUB
2. The Wizard: Generate a cookie policy and configure consent management to your specific needs. 
3. Automatic Cookie Scan: Weekly scan of your website to keep you up-to-date!
4. Customize your Cookie Banner: Including template styles and a range of styling options, WCAG conform. Custom CSS available for full control!
5. Integrations: Dedicated integrations with the most popular plugins, themes and services. Feature requests are possible!
6. Placeholders: Still images for video placeholders and individual placeholders for social media widgets. Fully customizable as well!
7. Legal Documents: Dedicated legal documents per region. Generated by you through the wizard, drafted, and updated by our IT Law firm.
